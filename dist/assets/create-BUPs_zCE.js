import{d as w,u as k,r as C,x as V,o as U,i as b,a as d,j as u,b as e,h as p,w as c,e as g,p as s,z as r,B as P,q as i,t as A,E as L,C as f}from"./index-C8zvf3I_.js";import{C as q}from"./configuration.service-CbYpThlS.js";import{S}from"./system-config.service-CiHArr8g.js";import"./api-4GkiaaGr.js";const N={class:"max-w-3xl mx-auto space-y-6"},B={class:"flex items-center space-x-4"},M={class:"grid grid-cols-1 gap-6"},z={class:"flex items-center"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"md:col-span-2"},j={class:"md:col-span-2"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={class:"md:col-span-2"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={key:0},T={class:"space-y-6"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={class:"flex items-center justify-end space-x-4 pt-6 border-t border-slate-100"},I=["disabled"],h={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},J=w({__name:"create",setup(Y){const x=k(),n=C(!1),l=V({name:"",isActive:!0,address:{street:"",city:"",state:"",zipCode:"",country:"Nigeria",landmark:""},contact:{name:"",phone:"",email:""},geolocation:{lat:0,lng:0},costPerKm:0,costPerGram:0});U(async()=>{const a=await S.getValue("DEFAULT_COUNTRY");a&&(l.address.country=a)});const y=async()=>{n.value=!0;try{await q.createPickupLocation(l),x.push("/admin/configuration/pickup-locations")}catch(a){console.error("Failed to create location:",a),alert("Failed to create pickup location. Please try again.")}finally{n.value=!1}};return(a,t)=>{const m=b("router-link"),v=b("LocationPicker");return u(),d("div",N,[e("div",B,[p(m,{to:"/admin/configuration/pickup-locations",class:"p-2 rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors"},{default:c(()=>[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),t[18]||(t[18]=e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900"},"Add Pickup Location"),e("p",{class:"mt-1 text-sm text-slate-500"},"Create a new location for customer order pickups.")],-1))]),e("form",{onSubmit:L(y,["prevent"]),class:"bg-white rounded-2xl border border-slate-200 p-8 shadow-sm space-y-8"},[e("section",null,[t[22]||(t[22]=e("h2",{class:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100"},"Location Basics",-1)),e("div",M,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Location Name",-1)),s(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.name=o),type:"text",required:"",placeholder:"e.g. Lagos Central Hub",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.name]]),t[20]||(t[20]=e("p",{class:"mt-1 text-xs text-slate-500"},"Internal name for this location.",-1))]),e("div",z,[s(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.isActive=o),type:"checkbox",id:"isActive",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-slate-300 rounded"},null,512),[[P,l.isActive]]),t[21]||(t[21]=e("label",{for:"isActive",class:"ml-2 block text-sm text-slate-700"}," Active (Customers can select this location) ",-1))])])]),e("section",null,[t[29]||(t[29]=e("h2",{class:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100"},"Address Details",-1)),e("div",D,[e("div",G,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Street Address",-1)),s(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.address.street=o),type:"text",required:"",placeholder:"e.g. 123 Broad Street",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.address.street]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"City",-1)),s(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l.address.city=o),type:"text",required:"",placeholder:"e.g. Ikeja",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.address.city]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"State",-1)),s(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>l.address.state=o),type:"text",required:"",placeholder:"e.g. Lagos",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.address.state]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Zip/Postal Code",-1)),s(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l.address.zipCode=o),type:"text",required:"",placeholder:"e.g. 100001",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.address.zipCode]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Country",-1)),s(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>l.address.country=o),type:"text",required:"",readonly:"",class:"w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-xl text-slate-500 cursor-not-allowed"},null,512),[[r,l.address.country]])]),e("div",j,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Landmark (Optional)",-1)),s(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>l.address.landmark=o),type:"text",placeholder:"e.g. Opposite City Hall",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.address.landmark]])])])]),e("section",null,[t[33]||(t[33]=e("h2",{class:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100"},"Contact Person",-1)),e("div",E,[e("div",F,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Full Name",-1)),s(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>l.contact.name=o),type:"text",required:"",placeholder:"e.g. John Doe",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.contact.name]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Phone Number",-1)),s(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l.contact.phone=o),type:"tel",required:"",placeholder:"e.g. +234 800 000 0000",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.contact.phone]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Email Address (Optional)",-1)),s(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.contact.email=o),type:"email",placeholder:"e.g. hub@genory.com",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.contact.email]])])])]),e("section",null,[t[38]||(t[38]=e("h2",{class:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100"},"Shipping Rates",-1)),e("div",K,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Cost Per KM (₦)",-1)),s(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>l.costPerKm=o),type:"number",min:"0",placeholder:"e.g. 100",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.costPerKm,void 0,{number:!0}]]),t[35]||(t[35]=e("p",{class:"mt-1 text-xs text-slate-500"},"Charge per kilometer distance.",-1))]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Cost Per Gram (₦)",-1)),s(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>l.costPerGram=o),type:"number",min:"0",placeholder:"e.g. 0.5",step:"0.01",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.costPerGram,void 0,{number:!0}]]),t[37]||(t[37]=e("p",{class:"mt-1 text-xs text-slate-500"},"Additional charge per gram of weight.",-1))])])]),l.geolocation?(u(),d("section",O,[t[41]||(t[41]=e("h2",{class:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100"},"Geolocation",-1)),e("div",T,[p(v,{lat:l.geolocation.lat,lng:l.geolocation.lng,"onUpdate:lat":t[13]||(t[13]=o=>l.geolocation.lat=o),"onUpdate:lng":t[14]||(t[14]=o=>l.geolocation.lng=o)},null,8,["lat","lng"]),e("div",H,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},[i("Latitude "),e("span",{class:"text-red-500"},"*")],-1)),s(e("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>l.geolocation.lat=o),type:"number",required:"",step:"any",placeholder:"e.g. 6.5244",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.geolocation.lat,void 0,{number:!0}]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},[i("Longitude "),e("span",{class:"text-red-500"},"*")],-1)),s(e("input",{"onUpdate:modelValue":t[16]||(t[16]=o=>l.geolocation.lng=o),type:"number",required:"",step:"any",placeholder:"e.g. 3.3792",class:"w-full px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white transition-all"},null,512),[[r,l.geolocation.lng,void 0,{number:!0}]])])])])])):g("",!0),e("div",R,[p(m,{to:"/admin/configuration/pickup-locations",class:"px-6 py-2 text-slate-600 hover:text-slate-900 font-medium transition-colors"},{default:c(()=>[...t[42]||(t[42]=[i(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:n.value,class:"flex items-center px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-xl transition-colors shadow-lg shadow-primary-500/30 disabled:opacity-50 disabled:cursor-not-allowed"},[n.value?(u(),d("svg",h,[...t[43]||(t[43]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):g("",!0),i(" "+A(n.value?"Creating...":"Create Location"),1)],8,I)])],32)])}}});typeof f=="function"&&f(J);export{J as default};
