import{d as V,r as n,x as L,o as H,a as d,j as i,b as e,l as O,q as b,t as l,e as w,F as z,f as A,n as k,p as g,z as h,T as N,C}from"./index-C8zvf3I_.js";import{C as m}from"./catalog.service-BFW32g3N.js";import"./api-4GkiaaGr.js";const S={class:"space-y-6"},F={class:"grid grid-cols-1 gap-5 sm:grid-cols-3"},T={class:"relative overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-100 p-6"},D={class:"flex items-center justify-between"},E={class:"mt-2 text-3xl font-bold text-slate-900"},U={class:"relative overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-100 p-6"},I={class:"flex items-center justify-between"},R={class:"mt-2 text-3xl font-bold text-emerald-600"},$={class:"relative overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-100 p-6"},q={class:"flex items-center justify-between"},G={class:"mt-2 text-3xl font-bold text-slate-400"},P={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},J={role:"list",class:"divide-y divide-slate-100"},K={class:"px-6 py-4 flex items-center justify-between"},Q={class:"flex items-center space-x-4"},W={class:"text-sm font-semibold text-slate-900"},X={class:"text-xs text-slate-500 mt-0.5"},Y={class:"flex items-center space-x-4"},Z={class:"flex items-center space-x-1"},ee=["onClick"],te=["onClick"],se={key:0,class:"text-center py-12"},oe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},re={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},le={class:"relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},ie={class:"px-6 pt-6"},ae={class:"flex items-center justify-between mb-6"},ne={class:"text-lg font-semibold text-slate-900"},de={class:"space-y-4"},me={class:"px-6 py-4 mt-4 bg-slate-50 flex justify-end space-x-3"},ce=V({__name:"categories",setup(ue){const v=n([]),c=n({}),u=n(!1),a=n(!1),p=n(null),s=L({name:"",description:"",displayOrder:0}),f=async()=>{try{const[r,t]=await Promise.all([m.getCategories(),m.getCategoryStats()]);v.value=r.data,c.value=t.data}catch(r){console.error("Failed to fetch categories",r)}},y=()=>{a.value=!1,p.value=null,s.name="",s.description="",s.displayOrder=0,u.value=!0},_=r=>{a.value=!0,p.value=r._id,s.name=r.name,s.description=r.description||"",s.displayOrder=r.displayOrder,u.value=!0},x=()=>{u.value=!1},j=async()=>{try{a.value&&p.value?await m.updateCategory(p.value,s):await m.createCategory(s),await f(),x()}catch(r){console.error("Failed to save category",r)}},M=async r=>{if(confirm("Are you sure you want to delete this category?"))try{await m.deleteCategory(r),await f()}catch(t){console.error("Failed to delete category",t)}};return H(()=>{f()}),(r,t)=>(i(),d("div",S,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900"},"Categories"),e("p",{class:"mt-1 text-sm text-slate-500"},"Organize your products into categories")],-1)),e("div",{class:"mt-4 sm:mt-0"},[e("button",{onClick:y,class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white text-sm font-semibold rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all shadow-lg shadow-primary-500/25 hover:shadow-xl hover:shadow-primary-500/30"},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Add Category ",-1)])])])]),e("div",F,[e("div",T,[e("div",D,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-slate-500"},"Total Categories",-1)),e("p",E,l((c.value.total||0).toLocaleString()),1)]),t[6]||(t[6]=e("div",{class:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200"},[e("svg",{class:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1))])]),e("div",U,[e("div",I,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-slate-500"},"Active",-1)),e("p",R,l((c.value.active||0).toLocaleString()),1)]),t[8]||(t[8]=e("div",{class:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-100 to-emerald-200"},[e("svg",{class:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",$,[e("div",q,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-slate-500"},"Inactive",-1)),e("p",G,l((c.value.inactive||0).toLocaleString()),1)]),t[10]||(t[10]=e("div",{class:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200"},[e("svg",{class:"w-6 h-6 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])],-1))])])]),e("div",P,[e("ul",J,[(i(!0),d(z,null,A(v.value,o=>(i(),d("li",{key:o._id,class:"hover:bg-slate-50/50 transition-colors"},[e("div",K,[e("div",Q,[t[11]||(t[11]=e("div",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-primary-100 to-primary-200"},[e("svg",{class:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),e("div",null,[e("h3",W,l(o.name),1),e("p",X,l(o.description||"No description"),1)])]),e("div",Y,[e("span",{class:k(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold",o.status==="active"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"])},[e("span",{class:k(["w-1.5 h-1.5 rounded-full mr-1.5",o.status==="active"?"bg-emerald-500":"bg-rose-500"])},null,2),b(" "+l(o.status),1)],2),e("div",Z,[e("button",{onClick:B=>_(o),class:"p-2 text-slate-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors"},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,ee),e("button",{onClick:B=>M(o._id),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors"},[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,te)])])])]))),128))]),v.value.length===0?(i(),d("div",se,[t[15]||(t[15]=e("svg",{class:"mx-auto h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[16]||(t[16]=e("h3",{class:"mt-4 text-sm font-medium text-slate-900"},"No categories yet",-1)),t[17]||(t[17]=e("p",{class:"mt-1 text-sm text-slate-500"},"Get started by creating a new category.",-1)),e("button",{onClick:y,class:"mt-4 inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors"},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),b(" Create your first category ",-1)])])])):w("",!0)]),(i(),O(N,{to:"body"},[u.value?(i(),d("div",oe,[e("div",re,[e("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm transition-opacity",onClick:x}),e("div",le,[e("div",ie,[e("div",ae,[e("h3",ne,l(a.value?"Edit Category":"Create Category"),1),e("button",{onClick:x,class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",de,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Category Name",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.name=o),type:"text",placeholder:"Enter category name",class:"block w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent focus:bg-white transition-all"},null,512),[[h,s.name]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Description",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.description=o),type:"text",placeholder:"Brief description (optional)",class:"block w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent focus:bg-white transition-all"},null,512),[[h,s.description]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Display Order",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.displayOrder=o),type:"number",placeholder:"0",class:"block w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent focus:bg-white transition-all"},null,512),[[h,s.displayOrder,void 0,{number:!0}]])])])]),e("div",me,[e("button",{onClick:x,class:"px-4 py-2.5 text-sm font-medium text-slate-700 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors"}," Cancel "),e("button",{onClick:j,class:"px-4 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all shadow-lg shadow-primary-500/25"},l(a.value?"Update Category":"Create Category"),1)])])])])):w("",!0)]))]))}});typeof C=="function"&&C(ce);export{ce as default};
