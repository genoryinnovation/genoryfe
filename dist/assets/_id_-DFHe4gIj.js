import{d as h,r as b,f as w,c as d,a as s,t as o,b as v,q as k,o as m}from"./index-C4KQTk6n.js";import{a as l}from"./api-Csnh6SWI.js";const I={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},N={class:"md:flex md:items-center md:justify-between mb-8"},j={class:"flex-1 min-w-0"},A={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"},C={class:"mt-1 text-sm text-gray-500 capitalize"},F={class:"mt-4 flex md:mt-0 md:ml-4 space-x-3"},D={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},V={class:"bg-white shadow overflow-hidden sm:rounded-lg"},P={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},B={class:"sm:divide-y sm:divide-gray-200"},E={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},M={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},S={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},T={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},$={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},z={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},R={class:"bg-white shadow overflow-hidden sm:rounded-lg"},q={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},K={class:"sm:divide-y sm:divide-gray-200"},L={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Y={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 capitalize"},G={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},H={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},J={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},O={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Q={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},U={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},W={class:"bg-white shadow overflow-hidden sm:rounded-lg lg:col-span-2"},X={class:"border-t border-gray-200 px-4 py-5 sm:p-0"},Z={class:"sm:divide-y sm:divide-gray-200"},ss={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ts={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},es={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},os={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},as={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ds={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},ms=["href"],rs={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},is={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},ls=["href"],ns={key:1,class:"text-center py-12"},xs=h({__name:"[id]",setup(ps){const r=k(),e=b(null),i=async()=>{try{const a=await l.get(`/admin/delivery-partners/${r.params.id}`);e.value=a.data.data}catch(a){console.error("Failed to fetch partner",a)}},f=async()=>{if(confirm("Are you sure you want to approve this application?"))try{await l.patch(`/admin/delivery-partners/${r.params.id}/approve`),await i(),alert("Application approved")}catch(a){console.error("Failed to approve",a),alert("Failed to approve application")}},_=async()=>{const a=prompt("Enter rejection reason:");if(a)try{await l.patch(`/admin/delivery-partners/${r.params.id}/reject`,{reason:a}),await i(),alert("Application rejected")}catch(t){console.error("Failed to reject",t),alert("Failed to reject application")}};return w(()=>{i()}),(a,t)=>{var n,p,c,g,x,y,u;return e.value?(m(),d("div",I,[s("div",N,[s("div",j,[s("h2",A,o(e.value.user.firstName)+" "+o(e.value.user.lastName),1),s("p",C,o(e.value.type)+" â€¢ "+o(e.value.status),1)]),s("div",F,[e.value.status==="pending"?(m(),d("button",{key:0,onClick:_,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Reject ")):v("",!0),e.value.status==="pending"?(m(),d("button",{key:1,onClick:f,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Approve ")):v("",!0)])]),s("div",D,[s("div",V,[t[3]||(t[3]=s("div",{class:"px-4 py-5 sm:px-6"},[s("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Personal Information")],-1)),s("div",P,[s("dl",B,[s("div",E,[t[0]||(t[0]=s("dt",{class:"text-sm font-medium text-gray-500"},"Full Name",-1)),s("dd",M,o(e.value.user.firstName)+" "+o(e.value.user.lastName),1)]),s("div",S,[t[1]||(t[1]=s("dt",{class:"text-sm font-medium text-gray-500"},"Email",-1)),s("dd",T,o(e.value.user.email),1)]),s("div",$,[t[2]||(t[2]=s("dt",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),s("dd",z,o((n=e.value.user.phone)==null?void 0:n.code)+" "+o((p=e.value.user.phone)==null?void 0:p.number),1)])])])]),s("div",R,[t[8]||(t[8]=s("div",{class:"px-4 py-5 sm:px-6"},[s("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Vehicle Information")],-1)),s("div",q,[s("dl",K,[s("div",L,[t[4]||(t[4]=s("dt",{class:"text-sm font-medium text-gray-500"},"Type",-1)),s("dd",Y,o((c=e.value.vehicle)==null?void 0:c.type),1)]),s("div",G,[t[5]||(t[5]=s("dt",{class:"text-sm font-medium text-gray-500"},"Make & Model",-1)),s("dd",H,o((g=e.value.vehicle)==null?void 0:g.make)+" "+o((x=e.value.vehicle)==null?void 0:x.model),1)]),s("div",J,[t[6]||(t[6]=s("dt",{class:"text-sm font-medium text-gray-500"},"Plate Number",-1)),s("dd",O,o((y=e.value.vehicle)==null?void 0:y.plateNumber),1)]),s("div",Q,[t[7]||(t[7]=s("dt",{class:"text-sm font-medium text-gray-500"},"Color",-1)),s("dd",U,o((u=e.value.vehicle)==null?void 0:u.color),1)])])])]),s("div",W,[t[13]||(t[13]=s("div",{class:"px-4 py-5 sm:px-6"},[s("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"KYC Information")],-1)),s("div",X,[s("dl",Z,[s("div",ss,[t[9]||(t[9]=s("dt",{class:"text-sm font-medium text-gray-500"},"ID Type",-1)),s("dd",ts,o(e.value.kyc.idType),1)]),s("div",es,[t[10]||(t[10]=s("dt",{class:"text-sm font-medium text-gray-500"},"ID Number",-1)),s("dd",os,o(e.value.kyc.idNumber),1)]),s("div",as,[t[11]||(t[11]=s("dt",{class:"text-sm font-medium text-gray-500"},"ID Image",-1)),s("dd",ds,[s("a",{href:e.value.kyc.idImage,target:"_blank",class:"text-blue-600 hover:text-blue-900"},"View ID Image",8,ms)])]),s("div",rs,[t[12]||(t[12]=s("dt",{class:"text-sm font-medium text-gray-500"},"Selfie",-1)),s("dd",is,[s("a",{href:e.value.kyc.selfieImage,target:"_blank",class:"text-blue-600 hover:text-blue-900"},"View Selfie",8,ls)])])])])])])])):(m(),d("div",ns,[...t[14]||(t[14]=[s("p",{class:"text-gray-500"},"Loading partner details...",-1)])]))}}});export{xs as default};
