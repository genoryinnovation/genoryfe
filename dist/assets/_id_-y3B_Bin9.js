import{y as U,D as X,d as Y,k as Z,r as d,o as ee,i as te,a,j as n,b as e,e as g,h as se,w as le,t as o,n as k,F as P,f as A,q as V,p as c,z as y,A as D,g as oe,B as R,C as G}from"./index-CVDPA8xH.js";import{P as I}from"./partner.service-CSyRC7e5.js";import{U as ae}from"./user.service-zutSJkue.js";import{O as ne}from"./order.service-DuXVhfDF.js";import"./api-4GkiaaGr.js";function q(b){return typeof b=="function"?b():X(b)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J=()=>{};function re(b,f){function u(...i){return new Promise((v,x)=>{Promise.resolve(b(()=>f.apply(this,i),{fn:f,thisArg:this,args:i})).then(v).catch(x)})}return u}const ie=b=>b();function de(b,f={}){let u,i,v=J;const x=l=>{clearTimeout(l),v(),v=J};return l=>{const p=q(b),h=q(f.maxWait);return u&&x(u),p<=0||h!==void 0&&h<=0?(i&&(x(i),i=null),Promise.resolve(l())):new Promise((w,_)=>{v=f.rejectOnCancel?_:w,h&&!i&&(i=setTimeout(()=>{u&&x(u),i=null,w(l())},h)),u=setTimeout(()=>{i&&x(i),i=null,w(l())},p)})}}function ue(b,f,u={}){const{eventFilter:i=ie,...v}=u;return U(b,re(i,f),v)}function pe(b,f,u={}){const{debounce:i=0,maxWait:v=void 0,...x}=u;return ue(b,f,{...x,eventFilter:de(i,{maxWait:v})})}const ce={class:"max-w-6xl mx-auto space-y-6 pb-20"},be={class:"flex items-center justify-between"},ve={class:"flex items-center space-x-4"},xe={key:0,class:"text-2xl font-bold text-slate-900"},fe={class:"flex items-center space-x-1 bg-slate-100 p-1 rounded-2xl w-fit"},me=["onClick"],ge={class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye=["d"],he={class:"relative min-h-[400px]"},we={key:0,class:"absolute inset-0 bg-white/50 backdrop-blur-[1px] flex items-center justify-center z-10 rounded-2xl"},_e={key:1,class:"space-y-6 animate-in fade-in duration-300"},ke={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Se={class:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm"},Ce={class:"text-2xl font-black text-slate-900"},Pe={class:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm"},Ae={class:"text-2xl font-black text-slate-900"},Me={class:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm"},Te={class:"text-2xl font-black text-primary-600"},Ne={class:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm"},Ve={class:"text-2xl font-black text-slate-900"},De={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ue={class:"bg-white rounded-2xl border border-slate-200 overflow-hidden flex flex-col"},Be={class:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between"},ze={class:"flex-1"},Le={key:0,class:"divide-y divide-slate-100"},Fe={class:"text-sm font-bold text-slate-900"},je={class:"text-xs text-slate-500"},Oe={class:"text-right"},Ee={class:"text-sm font-black text-slate-900"},Ie={key:1,class:"p-12 text-center text-slate-400"},We={class:"bg-white rounded-2xl border border-slate-200 overflow-hidden flex flex-col"},$e={class:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between"},He={class:"flex-1"},Re={key:0,class:"divide-y divide-slate-100"},Ge={class:"text-sm font-bold text-slate-900 capitalize"},qe={class:"text-xs text-slate-500"},Je={class:"text-right"},Ke={class:"text-[10px] text-slate-400 uppercase font-black tracking-tight"},Qe={key:1,class:"p-12 text-center text-slate-400"},Xe={key:2,class:"bg-white rounded-2xl border border-slate-200 overflow-hidden animate-in fade-in duration-300"},Ye={class:"overflow-x-auto"},Ze={class:"w-full text-left"},et={class:"divide-y divide-slate-100 text-sm"},tt={class:"px-6 py-4"},st={class:"font-bold text-slate-900"},lt={class:"text-xs text-slate-500"},ot={class:"px-6 py-4 text-right text-slate-500"},at={class:"p-4 border-t border-slate-100 flex items-center justify-between"},nt={class:"text-xs text-slate-500 font-bold"},rt={class:"flex items-center space-x-2"},it=["disabled"],dt={class:"text-xs font-bold px-2"},ut=["disabled"],pt={key:3,class:"bg-white rounded-2xl border border-slate-200 overflow-hidden animate-in fade-in duration-300"},ct={class:"p-6 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-4"},bt={class:"relative flex-1"},vt={class:"flex items-center space-x-3"},xt={class:"overflow-x-auto"},ft={class:"w-full text-left"},mt={class:"divide-y divide-slate-100 text-sm"},gt={class:"px-6 py-4 font-bold text-slate-900"},yt={class:"px-6 py-4"},ht={key:0},wt={class:"font-bold text-slate-900"},_t={class:"text-[10px] text-slate-500"},kt={key:1,class:"text-slate-400 italic text-xs"},St={class:"px-6 py-4 text-right font-black"},Ct={class:"px-6 py-4 text-center text-[10px] font-bold"},Pt={class:"p-4 border-t border-slate-100 flex items-center justify-between"},At={class:"text-xs text-slate-500 font-bold"},Mt={class:"flex items-center space-x-2"},Tt=["disabled"],Nt={class:"text-xs font-bold px-2"},Vt=["disabled"],Dt={key:4,class:"bg-white rounded-2xl border border-slate-200 overflow-hidden animate-in fade-in duration-300"},Ut={class:"overflow-x-auto"},Bt={class:"w-full text-left"},zt={class:"divide-y divide-slate-100 text-sm"},Lt={class:"px-6 py-4 text-slate-500"},Ft={class:"px-6 py-4"},jt={class:"font-bold text-slate-900 capitalize"},Ot={class:"text-[10px] text-slate-400 font-mono"},Et={class:"px-6 py-4 text-center text-[10px] font-bold"},It={class:"p-4 border-t border-slate-100 flex items-center justify-between"},Wt={class:"text-xs text-slate-500 font-bold"},$t={class:"flex items-center space-x-2"},Ht=["disabled"],Rt={class:"text-xs font-bold px-2"},Gt=["disabled"],qt={key:5,class:"space-y-6 animate-in fade-in duration-300"},Jt={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},Kt={class:"p-6 flex items-center justify-between"},Qt={class:"relative inline-flex items-center cursor-pointer"},Xt={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},Yt={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},Zt={class:"space-y-1"},es={class:"space-y-1"},ts={class:"space-y-1 md:col-span-2"},ss={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},ls={class:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6"},os={class:"space-y-1"},as={class:"space-y-1"},ns={class:"space-y-1"},rs={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},is={class:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6"},ds={class:"space-y-1"},us={class:"space-y-1"},ps=["value"],cs={class:"space-y-1"},bs={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},vs={class:"p-6 border-b border-slate-100 bg-slate-50/50 font-bold text-slate-900 flex items-center justify-between"},xs={class:"relative inline-flex items-center cursor-pointer"},fs={key:0,class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-200"},ms={class:"space-y-1"},gs={class:"relative"},ys={class:"space-y-1"},hs={class:"md:col-span-2 p-4 bg-slate-50 rounded-xl border border-slate-100 text-xs text-slate-600"},ws={key:0},_s={class:"font-bold"},ks={key:1},Ss={class:"font-bold"},Cs={key:1,class:"p-6 text-sm text-slate-500 italic"},Ps={class:"flex justify-end"},As=["disabled"],Ms=Y({__name:"[id]",setup(b){const u=Z().params.id,i=d(null),v=d([]),x=d([]),W=d([]),l=d(null),p=d("overview"),h=d(!0),w=d(!1),_=d(""),$=d("success"),S=d(1),B=d(0),m=d(1),z=d(0),C=d(1),L=d(0),F=d(""),j=d("all"),O=d("-createdAt"),K=[{id:"overview",name:"Overview",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"employees",name:"Employees",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{id:"orders",name:"Orders",icon:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},{id:"wallet",name:"Wallet",icon:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"},{id:"config",name:"Configuration",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}],H=r=>{r.paymentSettings||(r.paymentSettings={dailyLimit:0,monthlyLimit:0,negativeBalanceLimit:0}),r.planType||(r.planType="prepaid"),r.billingCycleSettings||(r.billingCycleSettings={billingDay:"last",gracePeriodDays:5}),r.earningsSettings||(r.earningsSettings={enabled:!1,percentage:0,bearer:"platform"})},M=async()=>{try{if(h.value=!0,p.value==="overview"){const r=await I.getPartnerOverview(u);i.value=r.data,l.value=r.data.partner,H(l.value)}else if(p.value==="employees"){const r=await ae.getUsers({hrCompany:u,page:S.value,limit:10});v.value=r.data.users,B.value=r.data.pagination.total}else if(p.value==="orders"){const r=await ne.getOrders({hrCompany:u,page:m.value,limit:10,search:F.value,status:j.value,sort:O.value});x.value=r.data.orders,z.value=r.data.pagination.total}else if(p.value==="wallet"){const r=await I.getPartnerTransactions(u,{page:C.value,limit:10});W.value=r.data.transactions,L.value=r.data.pagination.total}else if(p.value==="config"){if(!l.value){const r=await I.getPartner(u);l.value=r.data}H(l.value)}}catch(r){console.error("Failed to fetch data",r)}finally{h.value=!1}},Q=async()=>{var r,t;try{_.value="",w.value=!0;const N={name:l.value.name,industry:l.value.industry,registrationNumber:l.value.registrationNumber,isActive:l.value.isActive,paymentSettings:l.value.paymentSettings,planType:l.value.planType,billingCycleSettings:l.value.billingCycleSettings,earningsSettings:l.value.earningsSettings};await I.updatePartner(u,N),_.value="Configuration updated successfully",$.value="success",setTimeout(()=>{_.value=""},3e3)}catch(N){_.value=((t=(r=N.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to update",$.value="error"}finally{w.value=!1}};ee(M),U(p,M),U([S,m,C],M),pe(F,()=>{m.value=1,M()},{debounce:500}),U(j,()=>{m.value=1,M()}),U(O,()=>{m.value=1,M()});const E=r=>new Date(r).toLocaleDateString(),T=r=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(r);return(r,t)=>{const N=te("router-link");return n(),a("div",ce,[e("div",be,[e("div",ve,[se(N,{to:"/admin/partners",class:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors"},{default:le(()=>[...t[24]||(t[24]=[e("svg",{class:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("div",null,[l.value?(n(),a("h1",xe,o(l.value.name),1)):g("",!0),t[25]||(t[25]=e("p",{class:"text-sm text-slate-500"},"Partner Management & Overview",-1))])]),l.value?(n(),a("div",{key:0,class:k(["px-4 py-1.5 rounded-full text-xs font-bold border",l.value.isActive?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-rose-50 border-rose-100 text-rose-600"])},o(l.value.isActive?"Active":"Suspended"),3)):g("",!0)]),_.value?(n(),a("div",{key:0,class:k(["p-4 rounded-xl border font-bold text-sm animate-in fade-in slide-in-from-top-4 duration-300",$.value==="success"?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-rose-50 border-rose-100 text-rose-600"])},o(_.value),3)):g("",!0),e("div",fe,[(n(),a(P,null,A(K,s=>e("button",{key:s.id,onClick:Ts=>p.value=s.id,class:k(["px-6 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center",p.value===s.id?"bg-white text-primary-600 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-white/50"])},[(n(),a("svg",ge,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.icon},null,8,ye)])),V(" "+o(s.name),1)],10,me)),64))]),e("div",he,[h.value?(n(),a("div",we,[...t[26]||(t[26]=[e("svg",{class:"animate-spin h-8 w-8 text-primary-600",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):g("",!0),p.value==="overview"&&i.value?(n(),a("div",_e,[e("div",ke,[e("div",Se,[t[27]||(t[27]=e("p",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Active Employees",-1)),e("p",Ce,o(i.value.stats.activeEmployees),1)]),e("div",Pe,[t[28]||(t[28]=e("p",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Pending Orders",-1)),e("p",Ae,o(i.value.stats.pendingOrders),1)]),e("div",Me,[t[29]||(t[29]=e("p",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Wallet Balance",-1)),e("p",Te,o(T(i.value.stats.walletBalance)),1)]),e("div",Ne,[t[30]||(t[30]=e("p",{class:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"Total Spend",-1)),e("p",Ve,o(T(i.value.stats.totalSpend)),1)])]),e("div",De,[e("div",Ue,[e("div",Be,[t[31]||(t[31]=e("h3",{class:"font-bold text-slate-900"},"Recent Orders",-1)),e("button",{onClick:t[0]||(t[0]=s=>p.value="orders"),class:"text-xs font-bold text-primary-600 hover:underline"},"View All")]),e("div",ze,[i.value.recentOrders.length?(n(),a("div",Le,[(n(!0),a(P,null,A(i.value.recentOrders,s=>(n(),a("div",{key:s._id,class:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors"},[e("div",null,[e("p",Fe,o(s.orderNumber),1),e("p",je,o(s.userId.firstName)+" "+o(s.userId.lastName)+" â€¢ "+o(E(s.createdAt)),1)]),e("div",Oe,[e("p",Ee,o(T(s.totalAmount)),1),e("span",{class:k(["text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",s.orderStatus==="delivered"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"])},o(s.orderStatus),3)])]))),128))])):(n(),a("div",Ie,"No orders yet."))])]),e("div",We,[e("div",$e,[t[32]||(t[32]=e("h3",{class:"font-bold text-slate-900"},"Recent Transactions",-1)),e("button",{onClick:t[1]||(t[1]=s=>p.value="wallet"),class:"text-xs font-bold text-primary-600 hover:underline"},"View All")]),e("div",He,[i.value.recentTransactions.length?(n(),a("div",Re,[(n(!0),a(P,null,A(i.value.recentTransactions,s=>(n(),a("div",{key:s._id,class:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors"},[e("div",null,[e("p",Ge,o(s.reason.replace("_"," ")),1),e("p",qe,o(E(s.createdAt)),1)]),e("div",Je,[e("p",{class:k(["text-sm font-black",s.transactionType==="credit"?"text-emerald-600":"text-rose-600"])},o(s.transactionType==="credit"?"+":"-")+o(T(s.nairaAmount)),3),e("span",Ke,o(s.status),1)])]))),128))])):(n(),a("div",Qe,"No transactions yet."))])])])])):g("",!0),p.value==="employees"?(n(),a("div",Xe,[e("div",Ye,[e("table",Ze,[t[34]||(t[34]=e("thead",{class:"bg-slate-50 border-b border-slate-100 font-bold text-xs text-slate-500 uppercase"},[e("tr",null,[e("th",{class:"px-6 py-4"},"Employee"),e("th",{class:"px-6 py-4"},"Status"),e("th",{class:"px-6 py-4 text-right"},"Joined")])],-1)),e("tbody",et,[(n(!0),a(P,null,A(v.value,s=>(n(),a("tr",{key:s._id,class:"hover:bg-slate-50/50 transition-colors cursor-pointer"},[e("td",tt,[e("p",st,o(s.firstName)+" "+o(s.lastName),1),e("p",lt,o(s.email),1)]),t[33]||(t[33]=e("td",{class:"px-6 py-4"},[e("span",{class:"px-2 py-0.5 bg-emerald-100 text-emerald-700 text-[10px] font-bold rounded-full uppercase"},"Active")],-1)),e("td",ot,o(E(s.createdAt)),1)]))),128))])])]),e("div",at,[e("p",nt,"Total: "+o(B.value)+" employees",1),e("div",rt,[e("button",{onClick:t[2]||(t[2]=s=>S.value--),disabled:S.value===1,class:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold disabled:opacity-50"},"Prev",8,it),e("span",dt,"Page "+o(S.value)+" of "+o(Math.ceil(B.value/10)||1),1),e("button",{onClick:t[3]||(t[3]=s=>S.value++),disabled:S.value>=Math.ceil(B.value/10),class:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold disabled:opacity-50"},"Next",8,ut)])])])):g("",!0),p.value==="orders"?(n(),a("div",pt,[e("div",ct,[e("div",bt,[t[35]||(t[35]=e("span",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>F.value=s),type:"text",placeholder:"Search order reference...",class:"block w-full pl-10 pr-3 py-2 border border-slate-200 rounded-xl leading-5 bg-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-all"},null,512),[[y,F.value]])]),e("div",vt,[c(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>O.value=s),class:"px-4 py-2 text-sm bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[36]||(t[36]=[e("option",{value:"-createdAt"},"Newest First",-1),e("option",{value:"createdAt"},"Oldest First",-1),e("option",{value:"-totalAmount"},"Highest Amount",-1),e("option",{value:"totalAmount"},"Lowest Amount",-1)])],512),[[D,O.value]]),c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>j.value=s),class:"px-4 py-2 text-sm bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},[...t[37]||(t[37]=[oe('<option value="all">All Status</option><option value="pending">Pending</option><option value="confirmed">Confirmed</option><option value="processing">Processing</option><option value="shipped">Shipped</option><option value="delivered">Delivered</option><option value="cancelled">Cancelled</option><option value="failed">Failed</option>',8)])],512),[[D,j.value]])])]),e("div",xt,[e("table",ft,[t[38]||(t[38]=e("thead",{class:"bg-slate-50 border-b border-slate-100 font-bold text-xs text-slate-500 uppercase"},[e("tr",null,[e("th",{class:"px-6 py-4"},"Order Ref"),e("th",{class:"px-6 py-4"},"Staff Member"),e("th",{class:"px-6 py-4 text-right"},"Amount"),e("th",{class:"px-6 py-4 text-center"},"Status")])],-1)),e("tbody",mt,[(n(!0),a(P,null,A(x.value,s=>(n(),a("tr",{key:s._id,class:"hover:bg-slate-50/50 transition-colors cursor-pointer"},[e("td",gt,o(s.orderNumber),1),e("td",yt,[s.userId?(n(),a("div",ht,[e("p",wt,o(s.userId.firstName)+" "+o(s.userId.lastName),1),e("p",_t,o(s.userId.email),1)])):(n(),a("span",kt,"Deleted User"))]),e("td",St,o(T(s.totalAmount)),1),e("td",Ct,[e("span",{class:k(["px-2 py-0.5 rounded-full uppercase",s.orderStatus==="delivered"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"])},o(s.orderStatus),3)])]))),128))])])]),e("div",Pt,[e("p",At,"Total: "+o(z.value)+" orders",1),e("div",Mt,[e("button",{onClick:t[7]||(t[7]=s=>m.value--),disabled:m.value===1,class:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold disabled:opacity-50"},"Prev",8,Tt),e("span",Nt,"Page "+o(m.value)+" of "+o(Math.ceil(z.value/10)||1),1),e("button",{onClick:t[8]||(t[8]=s=>m.value++),disabled:m.value>=Math.ceil(z.value/10),class:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold disabled:opacity-50"},"Next",8,Vt)])])])):g("",!0),p.value==="wallet"?(n(),a("div",Dt,[e("div",Ut,[e("table",Bt,[t[39]||(t[39]=e("thead",{class:"bg-slate-50 border-b border-slate-100 font-bold text-xs text-slate-500 uppercase"},[e("tr",null,[e("th",{class:"px-6 py-4"},"Date"),e("th",{class:"px-6 py-4"},"Description"),e("th",{class:"px-6 py-4 text-right"},"Amount"),e("th",{class:"px-6 py-4 text-center"},"Status")])],-1)),e("tbody",zt,[(n(!0),a(P,null,A(W.value,s=>(n(),a("tr",{key:s._id,class:"hover:bg-slate-50/50 transition-colors"},[e("td",Lt,o(E(s.createdAt)),1),e("td",Ft,[e("p",jt,o(s.reason.replace("_"," ")),1),e("p",Ot,o(s.reference),1)]),e("td",{class:k(["px-6 py-4 text-right font-black",s.transactionType==="credit"?"text-emerald-600":"text-rose-600"])},o(s.transactionType==="credit"?"+":"-")+o(T(s.nairaAmount)),3),e("td",Et,[e("span",{class:k(["px-2 py-0.5 rounded-full uppercase",s.status==="completed"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-700"])},o(s.status),3)])]))),128))])])]),e("div",It,[e("p",Wt,"Total: "+o(L.value)+" transactions",1),e("div",$t,[e("button",{onClick:t[9]||(t[9]=s=>C.value--),disabled:C.value===1,class:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold disabled:opacity-50"},"Prev",8,Ht),e("span",Rt,"Page "+o(C.value)+" of "+o(Math.ceil(L.value/10)||1),1),e("button",{onClick:t[10]||(t[10]=s=>C.value++),disabled:C.value>=Math.ceil(L.value/10),class:"px-3 py-1 bg-slate-100 hover:bg-slate-200 rounded-lg text-xs font-bold disabled:opacity-50"},"Next",8,Gt)])])])):g("",!0),p.value==="config"&&l.value?(n(),a("div",qt,[e("div",Jt,[t[42]||(t[42]=e("div",{class:"p-6 border-b border-slate-100 bg-slate-50/50 font-bold text-slate-900"},"Partner Access",-1)),e("div",Kt,[t[41]||(t[41]=e("div",null,[e("p",{class:"font-bold text-slate-900"},"Portal Access"),e("p",{class:"text-xs text-slate-500"},"Enable or disable partner portal dashboard.")],-1)),e("label",Qt,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=s=>l.value.isActive=s),class:"sr-only peer"},null,512),[[R,l.value.isActive]]),t[40]||(t[40]=e("div",{class:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"},null,-1))])])]),e("div",Xt,[t[46]||(t[46]=e("div",{class:"p-6 border-b border-slate-100 bg-slate-50/50 font-bold text-slate-900"},"Company Identity",-1)),e("div",Yt,[e("div",Zt,[t[43]||(t[43]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Company Name",-1)),c(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>l.value.name=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500"},null,512),[[y,l.value.name]])]),e("div",es,[t[44]||(t[44]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Industry",-1)),c(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>l.value.industry=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500"},null,512),[[y,l.value.industry]])]),e("div",ts,[t[45]||(t[45]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Registration Number",-1)),c(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>l.value.registrationNumber=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500"},null,512),[[y,l.value.registrationNumber]])])])]),e("div",ss,[t[50]||(t[50]=e("div",{class:"p-6 border-b border-slate-100 bg-slate-50/50 font-bold text-slate-900"},"Spending Controls",-1)),e("div",ls,[e("div",os,[t[47]||(t[47]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Daily Limit",-1)),c(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=s=>l.value.paymentSettings.dailyLimit=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},null,512),[[y,l.value.paymentSettings.dailyLimit]])]),e("div",as,[t[48]||(t[48]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Monthly Limit",-1)),c(e("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=s=>l.value.paymentSettings.monthlyLimit=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},null,512),[[y,l.value.paymentSettings.monthlyLimit]])]),e("div",ns,[t[49]||(t[49]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Overdraft Limit",-1)),c(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=s=>l.value.paymentSettings.negativeBalanceLimit=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},null,512),[[y,l.value.paymentSettings.negativeBalanceLimit]])])])]),e("div",rs,[t[56]||(t[56]=e("div",{class:"p-6 border-b border-slate-100 bg-slate-50/50 font-bold text-slate-900"},"Billing & Plan Configuration",-1)),e("div",is,[e("div",ds,[t[52]||(t[52]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Billing Plan",-1)),c(e("select",{"onUpdate:modelValue":t[18]||(t[18]=s=>l.value.planType=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},[...t[51]||(t[51]=[e("option",{value:"prepaid"},"Prepaid (Wallet Based)",-1),e("option",{value:"postpaid"},"Postpaid (Cycle Based)",-1)])],512),[[D,l.value.planType]])]),e("div",us,[t[54]||(t[54]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Billing Day",-1)),c(e("select",{"onUpdate:modelValue":t[19]||(t[19]=s=>l.value.billingCycleSettings.billingDay=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},[t[53]||(t[53]=e("option",{value:"last"},"Last Day of Month",-1)),(n(),a(P,null,A(28,s=>e("option",{key:s,value:s},o(s)+"th of Month",9,ps)),64))],512),[[D,l.value.billingCycleSettings.billingDay]])]),e("div",cs,[t[55]||(t[55]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Grace Period (Days)",-1)),c(e("input",{type:"number","onUpdate:modelValue":t[20]||(t[20]=s=>l.value.billingCycleSettings.gracePeriodDays=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},null,512),[[y,l.value.billingCycleSettings.gracePeriodDays]])])]),t[57]||(t[57]=e("div",{class:"px-6 pb-6 text-xs text-slate-500 italic"}," * Postpaid accounts accumulate spending and must be settled within the grace period after the billing day. ",-1))]),e("div",bs,[e("div",vs,[t[59]||(t[59]=e("span",null,"Earnings Configuration",-1)),e("label",xs,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=s=>l.value.earningsSettings.enabled=s),class:"sr-only peer"},null,512),[[R,l.value.earningsSettings.enabled]]),t[58]||(t[58]=e("div",{class:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-primary-600"},null,-1))])]),l.value.earningsSettings.enabled?(n(),a("div",fs,[e("div",ms,[t[61]||(t[61]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Earnings Percentage (%)",-1)),e("div",gs,[c(e("input",{type:"number","onUpdate:modelValue":t[22]||(t[22]=s=>l.value.earningsSettings.percentage=s),step:"0.1",class:"w-full pl-4 pr-8 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},null,512),[[y,l.value.earningsSettings.percentage]]),t[60]||(t[60]=e("span",{class:"absolute right-3 top-2 text-slate-400 font-bold"},"%",-1))])]),e("div",ys,[t[63]||(t[63]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Cost Bearer",-1)),c(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>l.value.earningsSettings.bearer=s),class:"w-full px-4 py-2 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-primary-500 font-bold"},[...t[62]||(t[62]=[e("option",{value:"platform"},"Platform (Deducted from Revenue)",-1),e("option",{value:"customer"},"Customer (Added as Fee)",-1)])],512),[[D,l.value.earningsSettings.bearer]])]),e("div",hs,[l.value.earningsSettings.bearer==="platform"?(n(),a("p",ws,[t[64]||(t[64]=e("span",{class:"font-bold text-primary-700"},"Platform Model:",-1)),t[65]||(t[65]=V(" The partner earns ",-1)),e("span",_s,o(l.value.earningsSettings.percentage)+"%",1),t[66]||(t[66]=V(" of each order. This amount is deducted from the platform's revenue. ",-1))])):(n(),a("p",ks,[t[67]||(t[67]=e("span",{class:"font-bold text-primary-700"},"Customer Model:",-1)),t[68]||(t[68]=V(" A ",-1)),e("span",Ss,o(l.value.earningsSettings.percentage)+"%",1),t[69]||(t[69]=V(" service fee is added to the customer's total order amount, which is then credited to the partner. ",-1))]))])])):(n(),a("div",Cs," Earnings are currently disabled for this partner. Enable to configure commission parameters. "))]),e("div",Ps,[e("button",{onClick:Q,disabled:w.value,class:"px-6 py-3 bg-primary-600 text-white font-bold rounded-2xl hover:bg-primary-700 shadow-lg shadow-primary-500/25 disabled:opacity-50"},o(w.value?"Saving...":"Save Configuration"),9,As)])])):g("",!0)])])}}});typeof G=="function"&&G(Ms);export{Ms as default};
