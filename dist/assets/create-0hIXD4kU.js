import{d as g,u as f,r as y,x as w,a as n,j as m,b as t,g as d,p as r,z as l,A as p,F as h,f as k,t as u,e as C,q as N,E as P,H as D,C as c}from"./index-DPa4r9b9.js";import{P as V}from"./partner.service-CSyRC7e5.js";import"./api-4GkiaaGr.js";const M={class:"space-y-6"},B={class:"flex items-center space-x-4"},A={class:"lg:col-span-2 space-y-8"},L={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},j={class:"p-6 space-y-6"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},F={class:"p-6 space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z=["value"],S={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},q={class:"p-6 space-y-6"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"space-y-6"},$={class:"bg-slate-900 rounded-2xl p-6 text-white shadow-xl shadow-slate-900/20"},R={class:"mt-8 space-y-3"},G=["disabled"],O={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},b=g({__name:"create",setup(W){const v=f(),o=y(!1),s=w({name:"",registrationNumber:"",industry:"",employeeCount:"",adminFirstName:"",adminLastName:"",adminEmail:"",planType:"prepaid",billingDay:"last",gracePeriodDays:5}),x=async()=>{var i,e;o.value=!0;try{const a={...s,billingCycleSettings:{billingDay:s.billingDay,gracePeriodDays:s.gracePeriodDays}};await V.createPartner(a),alert("Partner created successfully! Admin credentials have been sent."),v.push("/admin/partners")}catch(a){console.error("Failed to create partner",a),alert(((e=(i=a.response)==null?void 0:i.data)==null?void 0:e.message)||"An error occurred while creating the partner.")}finally{o.value=!1}};return(i,e)=>(m(),n("div",M,[t("div",B,[t("button",{onClick:e[0]||(e[0]=a=>i.$router.push("/admin/partners")),class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-xl transition-colors"},[...e[12]||(e[12]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e[13]||(e[13]=t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900"},"Create New Partner"),t("p",{class:"mt-1 text-sm text-slate-500"},"Add a new company partner and provision its primary admin")],-1))]),t("form",{onSubmit:P(x,["prevent"]),class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},[t("div",A,[t("div",L,[e[18]||(e[18]=d('<div class="px-6 py-4 border-b border-slate-100 flex items-center space-x-3" data-v-3c45829a><div class="p-2 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg" data-v-3c45829a><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-v-3c45829a></path></svg></div><h3 class="text-lg font-semibold text-slate-900" data-v-3c45829a>Company Information</h3></div>',1)),t("div",j,[t("div",null,[e[14]||(e[14]=t("label",{for:"name",class:"block text-sm font-medium text-slate-700 mb-2"},"Company Name",-1)),r(t("input",{type:"text",id:"name","onUpdate:modelValue":e[1]||(e[1]=a=>s.name=a),required:"",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g. Acme Corp"},null,512),[[l,s.name]])]),t("div",U,[t("div",null,[e[15]||(e[15]=t("label",{for:"regNumber",class:"block text-sm font-medium text-slate-700 mb-2"},"Registration Number",-1)),r(t("input",{type:"text",id:"regNumber","onUpdate:modelValue":e[2]||(e[2]=a=>s.registrationNumber=a),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g. RC123456"},null,512),[[l,s.registrationNumber]])]),t("div",null,[e[16]||(e[16]=t("label",{for:"industry",class:"block text-sm font-medium text-slate-700 mb-2"},"Industry",-1)),r(t("input",{type:"text",id:"industry","onUpdate:modelValue":e[3]||(e[3]=a=>s.industry=a),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g. Technology"},null,512),[[l,s.industry]])])]),t("div",null,[e[17]||(e[17]=t("label",{for:"employees",class:"block text-sm font-medium text-slate-700 mb-2"},"Initial Employee Count",-1)),r(t("input",{type:"number",id:"employees","onUpdate:modelValue":e[4]||(e[4]=a=>s.employeeCount=a),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g. 50"},null,512),[[l,s.employeeCount]])])])]),t("div",E,[e[24]||(e[24]=d('<div class="px-6 py-4 border-b border-slate-100 flex items-center space-x-3" data-v-3c45829a><div class="p-2 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg" data-v-3c45829a><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-3c45829a></path></svg></div><h3 class="text-lg font-semibold text-slate-900" data-v-3c45829a>Billing &amp; Plan</h3></div>',1)),t("div",F,[t("div",T,[t("div",null,[e[20]||(e[20]=t("label",{for:"planType",class:"block text-sm font-medium text-slate-700 mb-2"},"Active Plan",-1)),r(t("select",{id:"planType","onUpdate:modelValue":e[5]||(e[5]=a=>s.planType=a),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all font-bold"},[...e[19]||(e[19]=[t("option",{value:"prepaid"},"Prepaid (Wallet Based)",-1),t("option",{value:"postpaid"},"Postpaid (Cycle Based)",-1)])],512),[[p,s.planType]])]),t("div",null,[e[22]||(e[22]=t("label",{for:"billingDay",class:"block text-sm font-medium text-slate-700 mb-2"},"Billing Day",-1)),r(t("select",{id:"billingDay","onUpdate:modelValue":e[6]||(e[6]=a=>s.billingDay=a),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all font-bold"},[e[21]||(e[21]=t("option",{value:"last"},"Last Day of Month",-1)),(m(),n(h,null,k(28,a=>t("option",{key:a,value:a},u(a)+"th of Month",9,z)),64))],512),[[p,s.billingDay]])])]),t("div",null,[e[23]||(e[23]=t("label",{for:"gracePeriod",class:"block text-sm font-medium text-slate-700 mb-2"},"Grace Period (Days)",-1)),r(t("input",{type:"number",id:"gracePeriod","onUpdate:modelValue":e[7]||(e[7]=a=>s.gracePeriodDays=a),class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all font-bold",placeholder:"e.g. 5"},null,512),[[l,s.gracePeriodDays]])])])]),t("div",S,[e[29]||(e[29]=d('<div class="px-6 py-4 border-b border-slate-100 flex items-center space-x-3" data-v-3c45829a><div class="p-2 bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg" data-v-3c45829a><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" data-v-3c45829a></path></svg></div><h3 class="text-lg font-semibold text-slate-900" data-v-3c45829a>Primary Administrator</h3></div>',1)),t("div",q,[e[28]||(e[28]=t("p",{class:"text-sm text-slate-500"},"This user will be created as the partner owner and will receive an email with their login credentials.",-1)),t("div",H,[t("div",null,[e[25]||(e[25]=t("label",{for:"adminFirstName",class:"block text-sm font-medium text-slate-700 mb-2"},"First Name",-1)),r(t("input",{type:"text",id:"adminFirstName","onUpdate:modelValue":e[8]||(e[8]=a=>s.adminFirstName=a),required:"",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"Admin's first name"},null,512),[[l,s.adminFirstName]])]),t("div",null,[e[26]||(e[26]=t("label",{for:"adminLastName",class:"block text-sm font-medium text-slate-700 mb-2"},"Last Name",-1)),r(t("input",{type:"text",id:"adminLastName","onUpdate:modelValue":e[9]||(e[9]=a=>s.adminLastName=a),required:"",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"Admin's last name"},null,512),[[l,s.adminLastName]])])]),t("div",null,[e[27]||(e[27]=t("label",{for:"adminEmail",class:"block text-sm font-medium text-slate-700 mb-2"},"Administrative Email",-1)),r(t("input",{type:"email",id:"adminEmail","onUpdate:modelValue":e[10]||(e[10]=a=>s.adminEmail=a),required:"",class:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"admin@company.com"},null,512),[[l,s.adminEmail]])])])])]),t("div",I,[t("div",$,[e[31]||(e[31]=d('<h3 class="text-lg font-bold mb-4" data-v-3c45829a>Onboarding Summary</h3><div class="space-y-4" data-v-3c45829a><div class="flex items-start space-x-3" data-v-3c45829a><div class="mt-1 p-1 bg-emerald-500/20 rounded text-emerald-400" data-v-3c45829a><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-3c45829a></path></svg></div><p class="text-sm text-slate-300" data-v-3c45829a>New company entity will be registered in the system.</p></div><div class="flex items-start space-x-3" data-v-3c45829a><div class="mt-1 p-1 bg-emerald-500/20 rounded text-emerald-400" data-v-3c45829a><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-3c45829a></path></svg></div><p class="text-sm text-slate-300" data-v-3c45829a>Dedicated partner admin account will be provisioned.</p></div><div class="flex items-start space-x-3" data-v-3c45829a><div class="mt-1 p-1 bg-amber-500/20 rounded text-amber-400" data-v-3c45829a><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 15c-.77 1.333.192 3 1.732 3z" data-v-3c45829a></path></svg></div><p class="text-sm text-slate-300" data-v-3c45829a>Credentials will be sent immediately via email.</p></div></div>',2)),t("div",R,[t("button",{type:"submit",disabled:o.value,class:"w-full flex items-center justify-center px-6 py-4 text-sm font-bold rounded-xl text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 shadow-lg shadow-primary-500/25 transition-all disabled:opacity-50"},[o.value?(m(),n("svg",O,[...e[30]||(e[30]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):C("",!0),N(" "+u(o.value?"Processing...":"Complete Partner Setup"),1)],8,G),t("button",{type:"button",onClick:e[11]||(e[11]=a=>i.$router.push("/admin/partners")),class:"w-full px-6 py-4 text-sm font-bold rounded-xl text-slate-400 hover:text-white hover:bg-white/5 transition-all"}," Cancel ")])]),e[32]||(e[32]=d('<div class="bg-blue-50 border border-blue-100 rounded-2xl p-6" data-v-3c45829a><div class="flex space-x-3 text-blue-800" data-v-3c45829a><svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3c45829a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-3c45829a></path></svg><p class="text-xs leading-relaxed font-medium" data-v-3c45829a> After creation, the partner will be able to manage their own employees, orders, and wallet. All administrative actions taken by the primary admin will be logged. </p></div></div>',1))])],32)]))}});typeof c=="function"&&c(b);const X=D(b,[["__scopeId","data-v-3c45829a"]]);export{X as default};
