import{d as j,r as m,o as N,i as T,a as r,j as n,g as S,b as t,t as o,q as i,s as z,v as V,e as x,F as D,f as W,h as A,w as H,y as B}from"./index-5jFCLG0b.js";import{W as M}from"./wallet.service-Gw8yJeav.js";import"./api-Cc7xRAfh.js";const U={class:"space-y-6"},F={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},P={class:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl shadow-lg shadow-emerald-500/25 p-6"},R={class:"relative z-10"},$={class:"mt-2 text-3xl font-bold text-white"},E={class:"relative overflow-hidden bg-gradient-to-br from-violet-500 to-violet-600 rounded-2xl shadow-lg shadow-violet-500/25 p-6"},K={class:"relative z-10"},q={class:"mt-2 text-3xl font-bold text-white"},I={class:"relative overflow-hidden bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl shadow-lg shadow-primary-500/25 p-6"},G={class:"relative z-10"},J={class:"mt-2 text-3xl font-bold text-white"},O={class:"relative"},Q={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-slate-200"},Z={class:"divide-y divide-slate-100"},tt={class:"px-6 py-4 whitespace-nowrap"},et={class:"flex items-center"},st={class:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-slate-400 to-slate-600 flex items-center justify-center text-white font-medium"},ot={class:"ml-4"},lt={class:"text-sm font-semibold text-slate-900"},at={class:"text-xs text-slate-500"},it={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm font-semibold text-emerald-600"},nt={key:0,class:"text-xs text-slate-500 flex items-center mt-0.5"},dt={class:"px-6 py-4 whitespace-nowrap"},mt={class:"text-sm font-semibold text-violet-600"},ct={key:0,class:"text-xs text-slate-500 flex items-center mt-0.5"},ut={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm text-slate-900"},xt={class:"text-xs text-slate-500"},vt={class:"px-6 py-4 whitespace-nowrap text-right"},ht={key:0,class:"text-center py-12"},ft={class:"flex items-center justify-between"},gt={class:"text-sm text-slate-600"},wt={class:"font-medium"},bt={class:"font-medium"},kt={class:"text-slate-400 ml-1"},yt={class:"flex items-center space-x-2"},_t=["disabled"],Bt=["disabled"],Mt=j({__name:"index",setup(Ct){const c=m([]),d=m({}),u=m(""),l=m({page:1,limit:10,total:0,pages:1});let v;const p=async()=>{try{const[a,e]=await Promise.all([M.getWallets(l.value.page,l.value.limit,u.value),M.getWalletStats()]);c.value=a.data.wallets,l.value=a.data.pagination,d.value=e.data}catch(a){console.error("Failed to fetch wallets",a)}},C=()=>{clearTimeout(v),v=setTimeout(()=>{l.value.page=1,p()},300)},h=a=>{a>=1&&a<=l.value.pages&&(l.value.page=a,p())};return N(()=>{p()}),(a,e)=>{const L=T("router-link");return n(),r("div",U,[e[26]||(e[26]=S('<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-slate-900">Wallets</h1><p class="mt-1 text-sm text-slate-500">Monitor user wallet balances and transactions</p></div><div class="mt-4 sm:mt-0 flex items-center space-x-3"><button class="inline-flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 text-sm font-medium rounded-xl hover:bg-slate-50 transition-colors"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg> Export </button></div></div>',1)),t("div",F,[t("div",P,[t("div",R,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-emerald-100"},"Total Naira Balance",-1)),t("p",$,"₦"+o((d.value.totalNairaBalance||0).toLocaleString()),1),e[4]||(e[4]=t("div",{class:"mt-3 flex items-center text-sm text-emerald-100"},[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),t("span",null,"Active wallets")],-1))]),e[5]||(e[5]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),e[6]||(e[6]=t("div",{class:"absolute bottom-0 right-0 -mb-8 -mr-8 w-32 h-32 bg-white/5 rounded-full"},null,-1))]),t("div",E,[t("div",K,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-violet-100"},"Total Token Balance",-1)),t("p",q,[i(o((d.value.totalTokenBalance||0).toLocaleString())+" ",1),e[7]||(e[7]=t("span",{class:"text-lg font-medium text-violet-200"},"TKN",-1))]),e[9]||(e[9]=t("div",{class:"mt-3 flex items-center text-sm text-violet-100"},[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",null,"Token circulation")],-1))]),e[10]||(e[10]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),e[11]||(e[11]=t("div",{class:"absolute bottom-0 right-0 -mb-8 -mr-8 w-32 h-32 bg-white/5 rounded-full"},null,-1))]),t("div",I,[t("div",G,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-primary-100"},"Total Wallets",-1)),t("p",J,o((d.value.totalWallets||0).toLocaleString()),1),e[13]||(e[13]=t("div",{class:"mt-3 flex items-center text-sm text-primary-100"},[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),t("span",null,"Registered users")],-1))]),e[14]||(e[14]=t("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full"},null,-1)),e[15]||(e[15]=t("div",{class:"absolute bottom-0 right-0 -mb-8 -mr-8 w-32 h-32 bg-white/5 rounded-full"},null,-1))])]),t("div",O,[e[16]||(e[16]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),z(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),onInput:C,type:"text",placeholder:"Search by user name or email...",class:"block w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"},null,544),[[V,u.value]])]),t("div",Q,[t("div",X,[t("table",Y,[e[20]||(e[20]=t("thead",null,[t("tr",{class:"bg-slate-50"},[t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," User "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Naira Balance "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Token Balance "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Last Updated "),t("th",{scope:"col",class:"relative px-6 py-4"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",Z,[(n(!0),r(D,null,W(c.value,s=>{var f,g,w,b,k,y,_;return n(),r("tr",{key:s._id,class:"hover:bg-slate-50/50 transition-colors"},[t("td",tt,[t("div",et,[t("div",st,o(((g=(f=s.userDetails)==null?void 0:f.firstName)==null?void 0:g.charAt(0))||"U")+o(((b=(w=s.userDetails)==null?void 0:w.lastName)==null?void 0:b.charAt(0))||""),1),t("div",ot,[t("div",lt,o((k=s.userDetails)==null?void 0:k.firstName)+" "+o((y=s.userDetails)==null?void 0:y.lastName),1),t("div",at,o((_=s.userDetails)==null?void 0:_.email),1)])])]),t("td",it,[t("div",rt,"₦"+o((s.nairaBalance||0).toLocaleString()),1),s.nairaLocked>0?(n(),r("div",nt,[e[17]||(e[17]=t("svg",{class:"w-3 h-3 mr-1 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),i(" Locked: ₦"+o(s.nairaLocked.toLocaleString()),1)])):x("",!0)]),t("td",dt,[t("div",mt,o((s.tokenBalance||0).toLocaleString())+" TKN",1),s.tokenLocked>0?(n(),r("div",ct,[e[18]||(e[18]=t("svg",{class:"w-3 h-3 mr-1 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),i(" Locked: "+o(s.tokenLocked.toLocaleString()),1)])):x("",!0)]),t("td",ut,[t("div",pt,o(new Date(s.updatedAt).toLocaleDateString()),1),t("div",xt,o(new Date(s.updatedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)]),t("td",vt,[A(L,{to:`/admin/users/${s.user}`,class:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors"},{default:H(()=>[...e[19]||(e[19]=[i(" View User ",-1),t("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])])])}),128))])])]),c.value.length===0?(n(),r("div",ht,[...e[21]||(e[21]=[t("svg",{class:"mx-auto h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),t("h3",{class:"mt-4 text-sm font-medium text-slate-900"},"No wallets found",-1),t("p",{class:"mt-1 text-sm text-slate-500"},"Try adjusting your search criteria.",-1)])])):x("",!0)]),t("div",ft,[t("p",gt,[e[22]||(e[22]=i(" Showing page ",-1)),t("span",wt,o(l.value.page),1),e[23]||(e[23]=i(" of ",-1)),t("span",bt,o(l.value.pages),1),t("span",kt,"("+o(l.value.total)+" results)",1)]),t("div",yt,[t("button",{onClick:e[1]||(e[1]=s=>h(l.value.page-1)),disabled:l.value.page===1,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[...e[24]||(e[24]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),i(" Previous ",-1)])],8,_t),t("button",{onClick:e[2]||(e[2]=s=>h(l.value.page+1)),disabled:l.value.page===l.value.pages,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[...e[25]||(e[25]=[i(" Next ",-1),t("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Bt)])])])}}});typeof B=="function"&&B(Mt);export{Mt as default};
