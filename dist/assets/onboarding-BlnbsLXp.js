import{d as _,r as f,m as N,f as D,u as C,c as l,a as e,F as v,l as x,b as c,e as n,p as k,v as d,t as u,o as r,n as p}from"./index-C4KQTk6n.js";import{P as w}from"./partner.service-BKZDqQx0.js";import"./api-Csnh6SWI.js";const S={class:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},U={class:"max-w-3xl mx-auto"},T={class:"bg-white shadow rounded-lg overflow-hidden"},R={class:"bg-gray-50 px-4 py-4 sm:px-6 border-b border-gray-200"},P={class:"flex justify-center","aria-label":"Progress"},A={class:"flex items-center space-x-8"},B={class:"flex items-center"},L={key:0,class:"text-white"},E={class:"ml-2 text-sm font-medium text-gray-900"},j={class:"p-8"},M={key:0},O={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},F=["onClick"],$={class:"flex-1 min-w-0"},z={class:"text-sm font-medium text-gray-900"},J={class:"text-sm text-gray-500 truncate"},K={key:1},Y={class:"space-y-6"},q={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},G={class:"sm:col-span-3"},H={class:"sm:col-span-3"},Q={class:"sm:col-span-3"},W={class:"sm:col-span-3"},X={class:"sm:col-span-3"},Z={key:2},ee={class:"space-y-6"},te={class:"mt-8 flex justify-between"},se={key:1},oe=["disabled"],de=_({__name:"onboarding",setup(le){const y=C(),a=f(0),m=f(!1),g=[{name:"Role"},{name:"Vehicle"},{name:"KYC"}],h=[{name:"Driver",value:"driver",description:"Deliver with your car or van"},{name:"Rider",value:"rider",description:"Deliver with your motorbike"},{name:"Errander",value:"errander",description:"Run errands and deliver small items"}],o=N({type:"driver",vehicle:{type:"car",make:"",model:"",plateNumber:"",color:"",images:[]},kyc:{idType:"NATIONAL_ID",idNumber:"",idImage:"",selfieImage:""}});D(async()=>{try{(await w.getProfile()).data&&y.push("/app/partner/dashboard")}catch{}});const I=()=>{a.value++},V=async()=>{m.value=!0;try{await w.apply(o),y.push("/app/partner/dashboard")}catch(b){console.error("Application failed",b),alert("Failed to submit application. Please try again.")}finally{m.value=!1}};return(b,t)=>(r(),l("div",S,[e("div",U,[t[25]||(t[25]=e("div",{class:"text-center mb-12"},[e("h2",{class:"text-3xl font-extrabold text-gray-900"},"Become a Delivery Partner"),e("p",{class:"mt-4 text-lg text-gray-600"},"Join us and start earning by delivering orders.")],-1)),e("div",T,[e("div",R,[e("nav",P,[e("ol",A,[(r(),l(v,null,x(g,(s,i)=>e("li",{key:s.name,class:"relative"},[e("div",B,[e("span",{class:p([a.value>i?"bg-blue-600":a.value===i?"border-2 border-blue-600":"border-2 border-gray-300","h-8 w-8 rounded-full flex items-center justify-center"])},[a.value>i?(r(),l("span",L,"âœ“")):(r(),l("span",{key:1,class:p(a.value===i?"text-blue-600":"text-gray-500")},u(i+1),3))],2),e("span",E,u(s.name),1)])])),64))])])]),e("div",j,[a.value===0?(r(),l("div",M,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Select your role",-1)),e("div",O,[(r(),l(v,null,x(h,s=>e("div",{key:s.value,onClick:i=>o.type=s.value,class:p([o.type===s.value?"border-blue-600 ring-2 ring-blue-600":"border-gray-300","relative rounded-lg border bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 cursor-pointer"])},[e("div",$,[t[10]||(t[10]=e("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)),e("p",z,u(s.name),1),e("p",J,u(s.description),1)])],10,F)),64))])])):c("",!0),a.value===1?(r(),l("div",K,[t[18]||(t[18]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Vehicle Information",-1)),e("div",Y,[e("div",q,[e("div",G,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Vehicle Type",-1)),n(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.vehicle.type=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},[...t[12]||(t[12]=[e("option",{value:"bike"},"Bike",-1),e("option",{value:"car"},"Car",-1),e("option",{value:"van"},"Van",-1),e("option",{value:"bicycle"},"Bicycle",-1)])],512),[[k,o.vehicle.type]])]),e("div",H,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Plate Number",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>o.vehicle.plateNumber=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.vehicle.plateNumber]])]),e("div",Q,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Make",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>o.vehicle.make=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.vehicle.make]])]),e("div",W,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Model",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>o.vehicle.model=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.vehicle.model]])]),e("div",X,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700"},"Color",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=s=>o.vehicle.color=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.vehicle.color]])])])])])):c("",!0),a.value===2?(r(),l("div",Z,[t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Identity Verification",-1)),e("div",ee,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"ID Type",-1)),n(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.kyc.idType=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},[...t[19]||(t[19]=[e("option",{value:"NATIONAL_ID"},"National ID",-1),e("option",{value:"DRIVERS_LICENSE"},"Driver's License",-1),e("option",{value:"PASSPORT"},"Passport",-1),e("option",{value:"VOTERS_CARD"},"Voter's Card",-1)])],512),[[k,o.kyc.idType]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"ID Number",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=s=>o.kyc.idNumber=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.kyc.idNumber]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Upload ID Image URL (Temporary)",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=s=>o.kyc.idImage=s),placeholder:"https://...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.kyc.idImage]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Upload Selfie URL (Temporary)",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=s=>o.kyc.selfieImage=s),placeholder:"https://...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border"},null,512),[[d,o.kyc.selfieImage]])])])])):c("",!0),e("div",te,[a.value>0?(r(),l("button",{key:0,onClick:t[9]||(t[9]=s=>a.value--),class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Back ")):(r(),l("div",se)),a.value<g.length-1?(r(),l("button",{key:2,onClick:I,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Next ")):(r(),l("button",{key:3,onClick:V,disabled:m.value,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50"},u(m.value?"Submitting...":"Submit Application"),9,oe))])])])])]))}});export{de as default};
