import{d as g,r as w,z as _,j as k,c as o,a as e,f as u,A as h,b,e as v,F as V,k as M,p as j,o as a,t as l,h as c,n as f,l as C,m as N}from"./index-DOnWl8Pk.js";import{a as H}from"./api-Csnh6SWI.js";const B={class:"space-y-6"},S={class:"flex flex-col sm:flex-row gap-4"},z={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},A={class:"overflow-x-auto"},P={class:"min-w-full divide-y divide-slate-200"},T={class:"divide-y divide-slate-100"},D={class:"px-6 py-4 whitespace-nowrap"},E={class:"flex items-center"},F={class:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-cyan-600 flex items-center justify-center text-white font-medium"},L={class:"ml-4"},R={class:"text-sm font-semibold text-slate-900"},U={class:"text-xs text-slate-500"},$={class:"px-6 py-4 whitespace-nowrap"},q={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-slate-100 text-slate-700 capitalize"},G={class:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},J={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"},K={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},O={class:"px-6 py-4 whitespace-nowrap"},Q={class:"px-6 py-4 whitespace-nowrap"},W={class:"flex items-center text-sm text-slate-600"},X={key:0},Y={key:1,class:"text-slate-400"},Z={key:0,class:"text-xs text-slate-500 ml-6"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"text-sm font-semibold text-emerald-600"},se={class:"px-6 py-4 whitespace-nowrap text-right"},oe={key:0,class:"text-center py-12"},ne=g({__name:"index",setup(ae){const r=w([]),i=_({status:"",type:""}),d=async()=>{try{const n=await H.get("/admin/delivery-partners",{params:i});r.value=n.data.data.partners}catch(n){console.error("Failed to fetch partners",n)}};return k(()=>{d()}),(n,s)=>{const y=j("router-link");return a(),o("div",B,[s[9]||(s[9]=e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900"},"Delivery Partners"),e("p",{class:"mt-1 text-sm text-slate-500"},"Manage your delivery fleet and track performance")])],-1)),e("div",S,[u(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.status=t),onChange:d,class:"px-4 py-3 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all min-w-[160px]"},[...s[2]||(s[2]=[b('<option value="">All Status</option><option value="pending">Pending</option><option value="approved">Approved</option><option value="rejected">Rejected</option><option value="suspended">Suspended</option>',5)])],544),[[h,i.status]]),u(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.type=t),onChange:d,class:"px-4 py-3 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all min-w-[160px]"},[...s[3]||(s[3]=[e("option",{value:""},"All Types",-1),e("option",{value:"driver"},"Driver",-1),e("option",{value:"rider"},"Rider",-1),e("option",{value:"errander"},"Errander",-1)])],544),[[h,i.type]])]),e("div",z,[e("div",A,[e("table",P,[s[7]||(s[7]=e("thead",null,[e("tr",{class:"bg-slate-50"},[e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Partner "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Type "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Vehicle "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Earnings "),e("th",{scope:"col",class:"relative px-6 py-4"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",T,[(a(!0),o(V,null,M(r.value,t=>{var p,m,x;return a(),o("tr",{key:t._id,class:"hover:bg-slate-50/50 transition-colors"},[e("td",D,[e("div",E,[e("div",F,l(((p=t.user.firstName)==null?void 0:p.charAt(0))||"P"),1),e("div",L,[e("div",R,l(t.user.firstName)+" "+l(t.user.lastName),1),e("div",U,l(t.user.email),1)])])]),e("td",$,[e("span",q,[(a(),o("svg",G,[t.type==="driver"?(a(),o("path",I)):t.type==="rider"?(a(),o("path",J)):(a(),o("path",K))])),c(" "+l(t.type),1)])]),e("td",O,[e("span",{class:f(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold",{"bg-emerald-100 text-emerald-700":t.status==="approved","bg-amber-100 text-amber-700":t.status==="pending","bg-rose-100 text-rose-700":t.status==="rejected","bg-slate-100 text-slate-600":t.status==="suspended"}])},[e("span",{class:f(["w-1.5 h-1.5 rounded-full mr-1.5",{"bg-emerald-500":t.status==="approved","bg-amber-500":t.status==="pending","bg-rose-500":t.status==="rejected","bg-slate-400":t.status==="suspended"}])},null,2),c(" "+l(t.status),1)],2)]),e("td",Q,[e("div",W,[s[4]||(s[4]=e("svg",{class:"w-4 h-4 mr-2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})],-1)),t.vehicle?(a(),o("span",X,l(t.vehicle.make)+" "+l(t.vehicle.model),1)):(a(),o("span",Y,"No vehicle"))]),t.vehicle?(a(),o("div",Z,l(t.vehicle.plateNumber),1)):v("",!0)]),e("td",ee,[e("div",te,"â‚¦"+l(((x=(m=t.earnings)==null?void 0:m.total)==null?void 0:x.toLocaleString())||0),1),s[5]||(s[5]=e("div",{class:"text-xs text-slate-500"},"Total earnings",-1))]),e("td",se,[C(y,{to:`/admin/delivery-partners/${t._id}`,class:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors"},{default:N(()=>[...s[6]||(s[6]=[c(" View ",-1),e("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])])])}),128))])])]),r.value.length===0?(a(),o("div",oe,[...s[8]||(s[8]=[e("svg",{class:"mx-auto h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})],-1),e("h3",{class:"mt-4 text-sm font-medium text-slate-900"},"No delivery partners found",-1),e("p",{class:"mt-1 text-sm text-slate-500"},"Try adjusting your filter criteria.",-1)])])):v("",!0)])])}}});export{ne as default};
