import{S as m}from"./special_offer.service-BEVs3jSu.js";import{d as w,r as _,o as y,i as g,a as i,j as a,b as t,h as d,w as c,q as p,e as h,F as k,f as b,t as o,n as u,C as v}from"./index-DPa4r9b9.js";import"./api-4GkiaaGr.js";const C={class:"space-y-6"},S={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},M={class:"mt-4 sm:mt-0"},j={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},A={class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-slate-200"},B={class:"divide-y divide-slate-100"},L={class:"px-6 py-4 whitespace-nowrap"},V={class:"flex items-center"},D={class:"flex-shrink-0 w-12 h-12 rounded-xl overflow-hidden bg-slate-100"},F=["src"],H={class:"ml-4"},N={class:"text-sm font-semibold text-slate-900"},z={class:"text-xs text-slate-500 truncate max-w-xs"},P={class:"px-6 py-4 whitespace-nowrap"},T={class:"px-2 py-1 text-xs font-medium rounded-lg bg-blue-50 text-blue-700"},E={class:"px-6 py-4 whitespace-nowrap"},$={class:"text-sm font-bold text-slate-900"},q={key:0,class:"text-xs text-slate-500 line-through"},I={class:"px-6 py-4 whitespace-nowrap"},U={class:"text-xs text-slate-600"},G={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap text-right"},K={class:"flex items-center justify-end space-x-1"},Q=["onClick"],R={key:0,class:"text-center py-12"},W=w({__name:"index",setup(X){const r=_([]),x=async()=>{try{const l=await m.getOffers();r.value=l.data.offers}catch(l){console.error("Failed to fetch special offers",l)}},f=async l=>{if(confirm("Are you sure you want to delete this offer?"))try{await m.deleteOffer(l),await x()}catch(e){console.error("Failed to delete offer",e)}};return y(()=>{x()}),(l,e)=>{const n=g("router-link");return a(),i("div",C,[t("div",S,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900"},"Special Offers"),t("p",{class:"mt-1 text-sm text-slate-500"},"Manage promotional offers and deals")],-1)),t("div",M,[d(n,{to:"/admin/special-offers/create",class:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white text-sm font-semibold rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all shadow-lg shadow-primary-500/25 hover:shadow-xl hover:shadow-primary-500/30"},{default:c(()=>[...e[0]||(e[0]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Add Special Offer ",-1)])]),_:1})])]),t("div",j,[t("div",A,[t("table",O,[e[4]||(e[4]=t("thead",null,[t("tr",{class:"bg-slate-50"},[t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Offer "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Type "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Price "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Validity "),t("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"}," Status "),t("th",{scope:"col",class:"relative px-6 py-4"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",B,[(a(!0),i(k,null,b(r.value,s=>(a(),i("tr",{key:s._id,class:"hover:bg-slate-50/50 transition-colors"},[t("td",L,[t("div",V,[t("div",D,[t("img",{class:"w-12 h-12 object-cover",src:s.image||"https://via.placeholder.com/48",alt:""},null,8,F)]),t("div",H,[t("div",N,o(s.title),1),t("div",z,o(s.description),1)])])]),t("td",P,[t("span",T,o(s.type),1)]),t("td",E,[t("div",$,"₦"+o(s.price.toLocaleString()),1),s.originalPrice?(a(),i("div",q," ₦"+o(s.originalPrice.toLocaleString()),1)):h("",!0)]),t("td",I,[t("div",U,[t("div",null,"From: "+o(new Date(s.validFrom).toLocaleDateString()),1),t("div",null,"To: "+o(new Date(s.validUntil).toLocaleDateString()),1)])]),t("td",G,[t("span",{class:u(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold",s.isActive?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"])},[t("span",{class:u(["w-1.5 h-1.5 rounded-full mr-1.5",s.isActive?"bg-emerald-500":"bg-slate-500"])},null,2),p(" "+o(s.isActive?"Active":"Inactive"),1)],2)]),t("td",J,[t("div",K,[d(n,{to:`/admin/special-offers/${s._id}/edit`,class:"p-2 text-slate-400 hover:text-violet-600 hover:bg-violet-50 rounded-lg transition-colors",title:"Edit"},{default:c(()=>[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])]),_:1},8,["to"]),t("button",{onClick:Y=>f(s._id),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Delete"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Q)])])]))),128))])])]),r.value.length===0?(a(),i("div",R,[e[6]||(e[6]=t("svg",{class:"mx-auto h-12 w-12 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})],-1)),e[7]||(e[7]=t("h3",{class:"mt-4 text-sm font-medium text-slate-900"},"No special offers",-1)),e[8]||(e[8]=t("p",{class:"mt-1 text-sm text-slate-500"},"Create your first special offer to get started.",-1)),d(n,{to:"/admin/special-offers/create",class:"mt-4 inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 transition-colors"},{default:c(()=>[...e[5]||(e[5]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Create Offer ",-1)])]),_:1})])):h("",!0)])])}}});typeof v=="function"&&v(W);export{W as default};
