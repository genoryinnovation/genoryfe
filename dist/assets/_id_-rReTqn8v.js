import{d as ie,r as m,y as de,a as l,e as d,j as a,b as e,n as c,t as o,p as ae,q as _,A as ge,g as ce,z as he,k as ye,o as we,i as ke,h as re,w as _e,F as h,f as k,I as je,H as Ce,C as ne}from"./index-CVDPA8xH.js";import{a as y}from"./api-4GkiaaGr.js";const $e={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Se={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ie={class:"relative inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full"},Le={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Me={class:"sm:flex sm:items-start"},Ae={key:0,class:"h-6 w-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ne={key:1,class:"h-6 w-6 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},De={class:"text-lg leading-6 font-medium text-slate-900",id:"modal-title"},Ve={class:"mt-4 space-y-4"},ze={key:0},Oe={class:"block text-sm font-medium text-slate-700 mb-1"},Re={key:0,class:"text-slate-400 font-normal"},Te={key:1,class:"text-slate-400 font-normal"},Fe=["placeholder"],Pe={class:"bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},He=["disabled"],Ee=ie({__name:"ReviewModal",props:{isOpen:{type:Boolean},type:{},title:{},confirmText:{}},emits:["close","confirm"],setup(p,{emit:g}){const s=p,v=g,f=m(""),x=m("");de(()=>s.isOpen,b=>{b&&(f.value="",x.value="")});const w=()=>{v("confirm",{note:f.value,reason:s.type==="reject"?x.value:void 0})};return(b,i)=>p.isOpen?(a(),l("div",$e,[e("div",Se,[e("div",{class:"fixed inset-0 bg-slate-900 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:i[0]||(i[0]=u=>b.$emit("close"))}),i[8]||(i[8]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",Ie,[e("div",Le,[e("div",Me,[e("div",{class:c(["mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10",p.type==="approve"?"bg-emerald-100":"bg-rose-100"])},[p.type==="approve"?(a(),l("svg",Ae,[...i[4]||(i[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(a(),l("svg",Ne,[...i[5]||(i[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 15c-.77 1.333.192 3 1.732 3z"},null,-1)])]))],2),e("div",Be,[e("h3",De,o(p.title),1),e("div",Ve,[p.type==="reject"?(a(),l("div",ze,[i[7]||(i[7]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},[_("Rejection Reason "),e("span",{class:"text-rose-500"},"*")],-1)),ae(e("select",{"onUpdate:modelValue":i[1]||(i[1]=u=>x.value=u),class:"w-full border-slate-300 rounded-xl focus:ring-primary-500 focus:border-primary-500 shadow-sm"},[...i[6]||(i[6]=[ce('<option value="" disabled>Select a reason</option><option value="Incomplete Documentation">Incomplete Documentation</option><option value="Invalid ID">Invalid ID Document</option><option value="Blurry Image">Blurry or Unclear Image</option><option value="Mismatched Information">Mismatched Information</option><option value="Other">Other</option>',6)])],512),[[ge,x.value]])])):d("",!0),e("div",null,[e("label",Oe,[_(o(p.type==="reject"?"Additional Note":"Note")+" ",1),p.type==="reject"?(a(),l("span",Re,"(Optional)")):(a(),l("span",Te,"(Optional)"))]),ae(e("textarea",{"onUpdate:modelValue":i[2]||(i[2]=u=>f.value=u),rows:"3",class:"w-full border-slate-300 rounded-xl focus:ring-primary-500 focus:border-primary-500 shadow-sm",placeholder:p.type==="approve"?"Add any comments about this approval...":"Add more context to the rejection..."},null,8,Fe),[[he,f.value]])])])])])]),e("div",Pe,[e("button",{type:"button",class:c(["w-full inline-flex justify-center rounded-xl border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",p.type==="approve"?"bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500":"bg-rose-600 hover:bg-rose-700 focus:ring-rose-500"]),onClick:w,disabled:p.type==="reject"&&!x.value},o(p.confirmText),11,He),e("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-xl border border-slate-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:i[3]||(i[3]=u=>b.$emit("close"))}," Cancel ")])])])])):d("",!0)}}),Ue={key:0,class:"space-y-6"},Ke={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},We={class:"flex items-center space-x-4"},qe={class:"text-2xl font-bold text-slate-900"},Ye={class:"mt-1 flex items-center space-x-3"},Ge={class:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium bg-slate-100 text-slate-700 capitalize"},Je={key:0,class:"flex space-x-3"},Qe={class:"flex border-b border-slate-200 overflow-x-auto no-scrollbar"},Xe=["onClick"],Ze={class:"mt-6"},et={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},tt={class:"md:col-span-2 space-y-6"},st={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},ot={class:"px-6 py-4 border-b border-slate-100 flex items-center space-x-3"},lt={class:"flex items-center justify-between w-full"},at={class:"flex items-center space-x-3"},rt={class:"flex space-x-2"},nt={class:"p-6 space-y-4"},it={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},dt={class:"mt-1 text-sm font-medium text-slate-900 font-bold"},ct={class:"mt-1 text-sm font-medium text-slate-900 font-bold"},pt={class:"mt-1 text-sm font-medium text-slate-900 font-bold"},ut={class:"mt-1 text-sm font-medium text-slate-900 font-bold"},mt={class:"grid grid-cols-1 sm:grid-cols-3 gap-6"},vt={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100"},xt={class:"mt-2 text-2xl font-bold text-slate-900 font-bold"},bt={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100"},ft={class:"mt-2 text-2xl font-bold text-emerald-600 font-bold"},gt={class:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100"},ht={class:"mt-2 text-2xl font-bold text-slate-900 font-bold"},yt={class:"space-y-6"},wt={class:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6"},kt={class:"flex items-center justify-between"},_t={class:"flex items-center"},jt={key:0,class:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6"},Ct={class:"space-y-2"},$t={class:"text-sm text-slate-600"},St={class:"text-xs text-slate-400"},It={class:"text-xs text-slate-400"},Lt={key:1,class:"space-y-6"},Mt={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},At={class:"px-6 py-4 border-b border-slate-100 flex items-center justify-between"},Nt={class:"text-sm font-medium text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full font-bold"},Bt={class:"overflow-x-auto"},Dt={class:"min-w-full divide-y divide-slate-200"},Vt={class:"divide-y divide-slate-100"},zt={class:"px-6 py-4 whitespace-nowrap text-sm text-slate-600"},Ot={class:"px-6 py-4 text-sm text-slate-900"},Rt={class:"font-medium font-bold"},Tt={class:"text-xs text-slate-400"},Ft={class:"px-6 py-4 whitespace-nowrap"},Pt={key:1},Ht={key:2,class:"space-y-6"},Et={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},Ut={class:"overflow-x-auto"},Kt={class:"min-w-full divide-y divide-slate-200"},Wt={class:"divide-y divide-slate-100"},qt=["onClick"],Yt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-primary-600 font-bold"},Gt={class:"px-6 py-4 text-sm text-slate-900"},Jt={class:"px-6 py-4 text-sm text-slate-600"},Qt={class:"px-6 py-4 whitespace-nowrap"},Xt={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-slate-900"},Zt={key:1},es={key:3,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ts={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},ss={class:"px-6 py-4 border-b border-slate-100 flex items-center space-x-3"},os={class:"flex items-center justify-between w-full"},ls={class:"flex items-center space-x-3"},as={class:"flex space-x-2"},rs={class:"p-6 space-y-6"},ns={class:"flex items-center justify-between"},is={key:0,class:"flex items-center justify-between border-t border-slate-50 pt-4"},ds={class:"text-sm font-medium"},cs={key:1,class:"p-4 bg-rose-50 rounded-xl border border-rose-100"},ps={class:"text-sm text-rose-700"},us={class:"mt-2 text-xs text-rose-500"},ms={class:"grid grid-cols-2 gap-4"},vs={class:"p-4 bg-slate-50 rounded-xl"},xs={class:"mt-1 text-sm font-bold text-slate-900 font-bold"},bs={class:"p-4 bg-slate-50 rounded-xl"},fs={class:"mt-1 text-sm font-bold text-slate-900 font-bold font-mono"},gs={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},hs={class:"p-6 space-y-4"},ys={key:0,class:"group relative aspect-video rounded-xl bg-slate-100 overflow-hidden border border-slate-200"},ws=["src"],ks={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},_s=["href"],js={key:1,class:"text-sm text-slate-500 italic"},Cs={key:2,class:"group relative aspect-video rounded-xl bg-slate-100 overflow-hidden border border-slate-200"},$s=["src"],Ss={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},Is=["href"],Ls={key:3,class:"text-sm text-slate-500 italic"},Ms={key:4,class:"space-y-6"},As={class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},Ns={class:"px-6 py-4 border-b border-slate-100 flex items-center space-x-3"},Bs={class:"flex items-center justify-between w-full"},Ds={class:"flex items-center space-x-3"},Vs={class:"flex space-x-2"},zs={class:"p-6"},Os={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Rs={class:"p-4 bg-slate-50 rounded-xl"},Ts={class:"mt-1 text-sm font-bold text-slate-900 font-bold capitalize"},Fs={class:"p-4 bg-slate-50 rounded-xl"},Ps={class:"mt-1 text-sm font-bold text-slate-900 font-bold"},Hs={class:"p-4 bg-slate-50 rounded-xl"},Es={class:"mt-1 text-sm font-bold text-slate-900 font-bold font-mono"},Us={class:"p-4 bg-slate-50 rounded-xl flex items-center justify-between"},Ks={class:"mt-1 text-sm font-bold text-slate-900 font-bold capitalize"},Ws={key:1,class:"text-center py-12 text-slate-500"},qs={key:2,class:"mt-8"},Ys={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},Gs=["src"],Js=["href"],Qs={key:0,class:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"},Xs={class:"p-6"},Zs={class:"grid grid-cols-2 gap-6"},eo={class:"p-4 bg-slate-50 rounded-xl"},to={class:"mt-1 text-sm font-bold text-slate-900 font-bold"},so={class:"p-4 bg-slate-50 rounded-xl"},oo={class:"mt-1 text-sm font-bold text-slate-900 font-bold"},lo={key:0,class:"bg-amber-50 border border-amber-200 rounded-2xl p-6 flex items-start space-x-4"},ao={class:"mt-1 text-sm text-amber-700"},ro={key:1,class:"flex flex-col items-center justify-center py-16"},pe=ie({__name:"[id]",setup(p){const g=ye(),s=m(null),v=m("overview"),f=m([]),x=m([]),w=m(!1),b=m(!1),i=m(!1),u=m("approve"),j=m(""),S=m(""),ue=[{id:"overview",name:"Overview"},{id:"earnings",name:"Earnings"},{id:"deliveries",name:"Deliveries"},{id:"kyc",name:"KYC & Verification"},{id:"vehicle",name:"Vehicle & Gear"}],$=async()=>{try{const n=await y.get(`/admin/delivery-partners/${g.params.id}`);s.value=n.data.data}catch(n){console.error("Failed to fetch partner",n)}},me=async()=>{if(s.value){w.value=!0;try{const n=await y.get(`/admin/users/${s.value._id}/wallet/transactions`);f.value=n.data.data.transactions}catch(n){console.error("Failed to fetch transactions",n)}finally{w.value=!1}}},ve=async()=>{if(s.value){b.value=!0;try{const n=await y.get("/admin/orders",{params:{assignedPartner:s.value._id}});x.value=n.data.data.orders}catch(n){console.error("Failed to fetch orders",n)}finally{b.value=!1}}},xe=async()=>{if(confirm("Verify all documents and approve this partner?"))try{await y.patch(`/admin/delivery-partners/${g.params.id}/approve`),await $()}catch(n){console.error("Failed to approve",n)}},be=async()=>{const n=prompt("State the reason for rejection:");if(n)try{await y.patch(`/admin/delivery-partners/${g.params.id}/reject`,{reason:n}),await $()}catch(t){console.error("Failed to reject",t)}},I=n=>{u.value="approve",j.value=n,S.value="Approve Section",i.value=!0},L=n=>{u.value="reject",j.value=n,S.value="Reject Section",i.value=!0},fe=async({note:n,reason:t})=>{try{u.value==="approve"?await y.patch(`/admin/delivery-partners/${g.params.id}/approve-section/${j.value}`,{note:n}):await y.patch(`/admin/delivery-partners/${g.params.id}/reject-section/${j.value}`,{reason:t,note:n}),await $(),i.value=!1}catch(M){console.error(`Failed to ${u.value} ${j.value}`,M),alert(`Failed to ${u.value} section`)}};return de(v,n=>{n==="earnings"&&me(),n==="deliveries"&&ve()}),we(()=>{$()}),(n,t)=>{var A,N,B,D,V,z,O,R,T,F,P,H,E,U,K,W,q,Y,G,J,Q,X,Z,ee,te;const M=ke("router-link");return a(),l(h,null,[s.value?(a(),l("div",Ue,[e("div",Ke,[e("div",We,[re(M,{to:"/admin/delivery-partners",class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-xl transition-colors"},{default:_e(()=>[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("div",null,[e("h2",qe,o(s.value.user.firstName)+" "+o(s.value.user.lastName),1),e("div",Ye,[e("span",Ge,[t[8]||(t[8]=e("svg",{class:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})],-1)),_(" "+o(s.value.type),1)]),e("span",{class:c(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold capitalize",{"bg-emerald-100 text-emerald-700":s.value.status==="approved","bg-amber-100 text-amber-700":s.value.status==="pending","bg-rose-100 text-rose-700":s.value.status==="rejected","bg-slate-100 text-slate-600":s.value.status==="suspended"}])},[e("span",{class:c(["w-1.5 h-1.5 rounded-full mr-1.5",{"bg-emerald-500":s.value.status==="approved","bg-amber-500":s.value.status==="pending","bg-rose-500":s.value.status==="rejected","bg-slate-400":s.value.status==="suspended"}])},null,2),_(" "+o(s.value.status),1)],2)])])]),s.value.status==="pending"?(a(),l("div",Je,[e("button",{onClick:be,class:"inline-flex items-center px-4 py-2.5 border border-rose-200 rounded-xl text-sm font-semibold text-rose-600 bg-rose-50 hover:bg-rose-100 transition-colors"},[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),_(" Reject ",-1)])]),e("button",{onClick:xe,class:"inline-flex items-center px-4 py-2.5 text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 shadow-lg shadow-emerald-500/25 transition-all"},[...t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),_(" Approve ",-1)])])])):d("",!0)]),e("div",Qe,[(a(),l(h,null,k(ue,r=>e("button",{key:r.id,onClick:C=>v.value=r.id,class:c(["px-6 py-4 text-sm font-medium whitespace-nowrap border-b-2 transition-all",v.value===r.id?"border-primary-500 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"])},o(r.name),11,Xe)),64))]),e("div",Ze,[v.value==="overview"?(a(),l("div",et,[e("div",tt,[e("div",st,[e("div",ot,[t[14]||(t[14]=e("div",{class:"p-2 bg-blue-50 text-blue-600 rounded-lg"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",lt,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-slate-900"},"Personal Information",-1)),e("div",at,[(N=(A=s.value.approvals)==null?void 0:A.personalInfo)!=null&&N.status?(a(),l("span",{key:0,class:c(["px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border",{"bg-emerald-50 text-emerald-700 border-emerald-100":s.value.approvals.personalInfo.status==="approved","bg-rose-50 text-rose-700 border-rose-100":s.value.approvals.personalInfo.status==="rejected","bg-amber-50 text-amber-700 border-amber-100":s.value.approvals.personalInfo.status==="pending"}])},o(s.value.approvals.personalInfo.status),3)):d("",!0),e("div",rt,[e("button",{onClick:t[0]||(t[0]=r=>I("personalInfo")),class:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Approve Section"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])]),e("button",{onClick:t[1]||(t[1]=r=>L("personalInfo")),class:"p-1.5 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Reject Section"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])]),e("div",nt,[e("div",it,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wide"},"First Name",-1)),e("p",dt,o(s.value.user.firstName),1)]),e("div",null,[t[16]||(t[16]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wide"},"Last Name",-1)),e("p",ct,o(s.value.user.lastName),1)]),e("div",null,[t[17]||(t[17]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wide"},"Email Address",-1)),e("p",pt,o(s.value.user.email),1)]),e("div",null,[t[18]||(t[18]=e("p",{class:"text-xs text-slate-500 uppercase tracking-wide"},"Phone Number",-1)),e("p",ut,o((B=s.value.user.phone)==null?void 0:B.code)+" "+o((D=s.value.user.phone)==null?void 0:D.number),1)])])])]),e("div",mt,[e("div",vt,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-slate-500"},"Total Earnings",-1)),e("p",xt,"₦"+o(((z=(V=s.value.earnings)==null?void 0:V.total)==null?void 0:z.toLocaleString())||0),1)]),e("div",bt,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-slate-500"},"Wallet Balance",-1)),e("p",ft,"₦"+o(((R=(O=s.value.earnings)==null?void 0:O.balance)==null?void 0:R.toLocaleString())||0),1)]),e("div",gt,[t[21]||(t[21]=e("p",{class:"text-sm font-medium text-slate-500"},"Onboarding Step",-1)),e("p",ht,o(s.value.onboardingStep)+"/5",1)])])]),e("div",yt,[e("div",wt,[t[22]||(t[22]=e("h3",{class:"text-sm font-bold text-slate-900 uppercase tracking-wider mb-4"},"Availability",-1)),e("div",kt,[e("div",_t,[e("span",{class:c(["w-3 h-3 rounded-full mr-2",s.value.isOnline?"bg-emerald-500 animate-pulse":"bg-slate-300"])},null,2),e("span",{class:c(["text-sm font-medium",s.value.isOnline?"text-emerald-700":"text-slate-500"])},o(s.value.isOnline?"Currently Online":"Offline"),3)])])]),s.value.currentLocation?(a(),l("div",jt,[t[23]||(t[23]=e("h3",{class:"text-sm font-bold text-slate-900 uppercase tracking-wider mb-4"},"Last Known Location",-1)),e("div",Ct,[e("p",$t,o(s.value.currentLocation.address||"Address not available"),1),e("p",St,"Lat: "+o(s.value.currentLocation.latitude)+", Lng: "+o(s.value.currentLocation.longitude),1),e("p",It,"Updated: "+o(new Date(s.value.currentLocation.updatedAt).toLocaleString()),1)])])):d("",!0)])])):d("",!0),v.value==="earnings"?(a(),l("div",Lt,[e("div",Mt,[e("div",At,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-slate-900"},"Wallet Transactions",-1)),e("div",Nt," Current Balance: ₦"+o(((F=(T=s.value.earnings)==null?void 0:T.balance)==null?void 0:F.toLocaleString())||0),1)]),e("div",Bt,[e("table",Dt,[t[27]||(t[27]=e("thead",null,[e("tr",{class:"bg-slate-50 text-left"},[e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"Description"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase text-right"},"Amount"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"Status")])],-1)),e("tbody",Vt,[w.value?(a(),l(h,{key:0},k(3,r=>e("tr",{key:r},[...t[25]||(t[25]=[e("td",{colspan:"4",class:"px-6 py-4 text-center animate-pulse bg-slate-50/50"},"Loading...",-1)])])),64)):d("",!0),(a(!0),l(h,null,k(f.value,r=>(a(),l("tr",{key:r._id,class:"hover:bg-slate-50/50"},[e("td",zt,o(new Date(r.createdAt).toLocaleDateString()),1),e("td",Ot,[e("p",Rt,o(r.remarks||r.reason.replace(/_/g," ")),1),e("p",Tt,o(r.reference),1)]),e("td",{class:c(["px-6 py-4 whitespace-nowrap text-sm text-right font-bold",r.transactionType==="credit"?"text-emerald-600":"text-rose-600"])},o(r.transactionType==="credit"?"+":"-")+"₦"+o((r.nairaAmount||0).toLocaleString()),3),e("td",Ft,[e("span",{class:c(["px-2 py-0.5 rounded-full text-xs font-medium capitalize",r.status==="completed"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"])},o(r.status),3)])]))),128)),!w.value&&f.value.length===0?(a(),l("tr",Pt,[...t[26]||(t[26]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-slate-500"},"No transactions found",-1)])])):d("",!0)])])])])])):d("",!0),v.value==="deliveries"?(a(),l("div",Ht,[e("div",Et,[t[31]||(t[31]=e("div",{class:"px-6 py-4 border-b border-slate-100"},[e("h3",{class:"text-lg font-semibold text-slate-900"},"Assigned Deliveries")],-1)),e("div",Ut,[e("table",Kt,[t[30]||(t[30]=e("thead",null,[e("tr",{class:"bg-slate-50 text-left"},[e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"Order #"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"Customer"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"City"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase"},"Status"),e("th",{class:"px-6 py-3 text-xs font-semibold text-slate-600 uppercase text-right"},"Total")])],-1)),e("tbody",Wt,[b.value?(a(),l(h,{key:0},k(3,r=>e("tr",{key:r},[...t[28]||(t[28]=[e("td",{colspan:"5",class:"px-6 py-4 text-center animate-pulse bg-slate-50/50"},"Loading...",-1)])])),64)):d("",!0),(a(!0),l(h,null,k(x.value,r=>{var C,se,oe,le;return a(),l("tr",{key:r._id,class:"hover:bg-slate-50/50 cursor-pointer",onClick:no=>n.$router.push(`/admin/orders/${r._id}`)},[e("td",Yt,o(r.orderNumber),1),e("td",Gt,o((C=r.userId)==null?void 0:C.firstName)+" "+o((se=r.userId)==null?void 0:se.lastName),1),e("td",Jt,o((oe=r.deliveryAddress)==null?void 0:oe.city),1),e("td",Qt,[e("span",{class:c(["px-2 py-0.5 rounded-full text-xs font-medium capitalize",r.orderStatus==="delivered"?"bg-emerald-100 text-emerald-700":"bg-primary-100 text-primary-700"])},o(r.orderStatus),3)]),e("td",Xt," ₦"+o((le=r.totalAmount)==null?void 0:le.toLocaleString()),1)],8,qt)}),128)),!b.value&&x.value.length===0?(a(),l("tr",Zt,[...t[29]||(t[29]=[e("td",{colspan:"5",class:"px-6 py-8 text-center text-slate-500"},"No deliveries found",-1)])])):d("",!0)])])])])])):d("",!0),v.value==="kyc"?(a(),l("div",es,[e("div",ts,[e("div",ss,[t[35]||(t[35]=e("div",{class:"p-2 bg-violet-50 text-violet-600 rounded-lg"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])],-1)),e("div",os,[t[34]||(t[34]=e("h3",{class:"text-lg font-semibold text-slate-900"},"KYC Status",-1)),e("div",ls,[(H=(P=s.value.approvals)==null?void 0:P.kyc)!=null&&H.status?(a(),l("span",{key:0,class:c(["px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border",{"bg-emerald-50 text-emerald-700 border-emerald-100":s.value.approvals.kyc.status==="approved","bg-rose-50 text-rose-700 border-rose-100":s.value.approvals.kyc.status==="rejected","bg-amber-50 text-amber-700 border-amber-100":s.value.approvals.kyc.status==="pending"}])},o(s.value.approvals.kyc.status),3)):d("",!0),e("div",as,[e("button",{onClick:t[2]||(t[2]=r=>I("kyc")),class:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Approve Section"},[...t[32]||(t[32]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])]),e("button",{onClick:t[3]||(t[3]=r=>L("kyc")),class:"p-1.5 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Reject Section"},[...t[33]||(t[33]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])]),e("div",rs,[e("div",ns,[t[36]||(t[36]=e("span",{class:"text-sm text-slate-500"},"Verification Status",-1)),e("span",{class:c(["px-3 py-1 rounded-full text-xs font-bold capitalize",((E=s.value.kyc)==null?void 0:E.status)==="verified"?"bg-emerald-100 text-emerald-700":((U=s.value.kyc)==null?void 0:U.status)==="rejected"?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"])},o(((K=s.value.kyc)==null?void 0:K.status)||"Not Started"),3)]),(W=s.value.kyc)!=null&&W.approvedAt?(a(),l("div",is,[t[37]||(t[37]=e("span",{class:"text-sm text-slate-500"},"Approved On",-1)),e("span",ds,o(new Date(s.value.kyc.approvedAt).toLocaleDateString()),1)])):d("",!0),(q=s.value.kyc)!=null&&q.rejectionReason?(a(),l("div",cs,[t[38]||(t[38]=e("p",{class:"text-xs font-bold text-rose-600 uppercase mb-1"},"Rejection Reason",-1)),e("p",ps,o(s.value.kyc.rejectionReason),1),e("p",us,o(new Date(s.value.kyc.rejectedAt).toLocaleString()),1)])):d("",!0),e("div",ms,[e("div",vs,[t[39]||(t[39]=e("p",{class:"text-xs text-slate-500 uppercase"},"ID Type",-1)),e("p",xs,o(((Y=s.value.kyc)==null?void 0:Y.idType)||"N/A"),1)]),e("div",bs,[t[40]||(t[40]=e("p",{class:"text-xs text-slate-500 uppercase"},"ID Number",-1)),e("p",fs,o(((G=s.value.kyc)==null?void 0:G.idNumber)||"N/A"),1)])])])]),e("div",gs,[t[43]||(t[43]=e("div",{class:"px-6 py-4 border-b border-slate-100"},[e("h3",{class:"text-lg font-semibold text-slate-900"},"Documents")],-1)),e("div",hs,[(J=s.value.kyc)!=null&&J.idImage?(a(),l("div",ys,[e("img",{src:s.value.kyc.idImage,class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:"ID Image"},null,8,ws),e("div",ks,[e("a",{href:s.value.kyc.idImage,target:"_blank",class:"px-4 py-2 bg-white text-slate-900 rounded-lg text-sm font-bold shadow-xl"},"View Original",8,_s)]),t[41]||(t[41]=e("div",{class:"absolute top-3 left-3 px-2 py-1 bg-black/60 backdrop-blur-md rounded-lg text-white text-[10px] font-bold uppercase tracking-wider"},"ID Document",-1))])):(a(),l("p",js,"No ID image uploaded")),(Q=s.value.kyc)!=null&&Q.selfieImage?(a(),l("div",Cs,[e("img",{src:s.value.kyc.selfieImage,class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:"Selfie"},null,8,$s),e("div",Ss,[e("a",{href:s.value.kyc.selfieImage,target:"_blank",class:"px-4 py-2 bg-white text-slate-900 rounded-lg text-sm font-bold shadow-xl"},"View Original",8,Is)]),t[42]||(t[42]=e("div",{class:"absolute top-3 left-3 px-2 py-1 bg-black/60 backdrop-blur-md rounded-lg text-white text-[10px] font-bold uppercase tracking-wider"},"Selfie Verification",-1))])):(a(),l("p",Ls,"No selfie uploaded"))])])])):d("",!0),v.value==="vehicle"?(a(),l("div",Ms,[e("div",As,[e("div",Ns,[t[47]||(t[47]=e("div",{class:"p-2 bg-cyan-50 text-cyan-600 rounded-lg"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})])],-1)),e("div",Bs,[t[46]||(t[46]=e("h3",{class:"text-lg font-semibold text-slate-900"},"Vehicle Details",-1)),e("div",Ds,[(Z=(X=s.value.approvals)==null?void 0:X.vehicle)!=null&&Z.status?(a(),l("span",{key:0,class:c(["px-2.5 py-0.5 rounded-full text-xs font-bold capitalize border",{"bg-emerald-50 text-emerald-700 border-emerald-100":s.value.approvals.vehicle.status==="approved","bg-rose-50 text-rose-700 border-rose-100":s.value.approvals.vehicle.status==="rejected","bg-amber-50 text-amber-700 border-amber-100":s.value.approvals.vehicle.status==="pending"}])},o(s.value.approvals.vehicle.status),3)):d("",!0),e("div",Vs,[e("button",{onClick:t[4]||(t[4]=r=>I("vehicle")),class:"p-1.5 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Approve Section"},[...t[44]||(t[44]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])]),e("button",{onClick:t[5]||(t[5]=r=>L("vehicle")),class:"p-1.5 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Reject Section"},[...t[45]||(t[45]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])]),e("div",zs,[s.value.vehicle?(a(),l("div",Os,[e("div",Rs,[t[48]||(t[48]=e("p",{class:"text-xs text-slate-500 uppercase"},"Type",-1)),e("p",Ts,o(s.value.vehicle.type),1)]),e("div",Fs,[t[49]||(t[49]=e("p",{class:"text-xs text-slate-500 uppercase"},"Make & Model",-1)),e("p",Ps,o(s.value.vehicle.make)+" "+o(s.value.vehicle.model),1)]),e("div",Hs,[t[50]||(t[50]=e("p",{class:"text-xs text-slate-500 uppercase"},"Plate Number",-1)),e("p",Es,o(s.value.vehicle.plateNumber),1)]),e("div",Us,[e("div",null,[t[51]||(t[51]=e("p",{class:"text-xs text-slate-500 uppercase"},"Color",-1)),e("p",Ks,o(s.value.vehicle.color),1)]),e("div",{class:"w-8 h-8 rounded-full border border-slate-200",style:je({backgroundColor:s.value.vehicle.color})},null,4)])])):(a(),l("div",Ws,"No vehicle information registered")),(te=(ee=s.value.vehicle)==null?void 0:ee.images)!=null&&te.length?(a(),l("div",qs,[t[53]||(t[53]=e("h4",{class:"text-sm font-bold text-slate-900 uppercase tracking-wider mb-4"},"Vehicle Images",-1)),e("div",Ys,[(a(!0),l(h,null,k(s.value.vehicle.images,(r,C)=>(a(),l("div",{key:C,class:"group relative aspect-video rounded-xl bg-slate-100 overflow-hidden border border-slate-200"},[e("img",{src:r.url,class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:"Vehicle Image"},null,8,Gs),e("a",{href:r.url,target:"_blank",class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 transition-opacity"},[...t[52]||(t[52]=[e("span",{class:"px-3 py-1.5 bg-white text-slate-900 text-xs font-bold rounded-lg shadow-lg"},"View",-1)])],8,Js)]))),128))])])):d("",!0)])]),s.value.backPack?(a(),l("div",Qs,[t[56]||(t[56]=ce('<div class="px-6 py-4 border-b border-slate-100 flex items-center space-x-3" data-v-d7b02b4a><div class="p-2 bg-orange-50 text-orange-600 rounded-lg" data-v-d7b02b4a><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-d7b02b4a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-d7b02b4a></path></svg></div><h3 class="text-lg font-semibold text-slate-900" data-v-d7b02b4a>Backpack Details</h3></div>',1)),e("div",Xs,[e("div",Zs,[e("div",eo,[t[54]||(t[54]=e("p",{class:"text-xs text-slate-500 uppercase"},"Size",-1)),e("p",to,o(s.value.backPack.size),1)]),e("div",so,[t[55]||(t[55]=e("p",{class:"text-xs text-slate-500 uppercase"},"Weight Limit",-1)),e("p",oo,o(s.value.backPack.weightLimit)+"kg",1)])])])])):d("",!0)])):d("",!0)]),s.value.onboardingStep<5?(a(),l("div",lo,[t[58]||(t[58]=e("div",{class:"p-2 bg-amber-100 rounded-lg text-amber-600"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 15c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",null,[t[57]||(t[57]=e("h4",{class:"text-sm font-bold text-amber-900"},"Action Required: Onboarding Incomplete",-1)),e("p",ao,"The partner has not completed all onboarding steps (Currently step "+o(s.value.onboardingStep)+"/5). Some features may be limited.",1)])])):d("",!0)])):(a(),l("div",ro,[...t[59]||(t[59]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-primary-500 border-t-transparent shadow-lg shadow-primary-500/20"},null,-1),e("p",{class:"mt-4 text-sm text-slate-500 font-medium"},"Fetching partner intelligence...",-1)])])),re(Ee,{"is-open":i.value,type:u.value,title:S.value,"confirm-text":u.value==="approve"?"Approve":"Reject",onClose:t[6]||(t[6]=r=>i.value=!1),onConfirm:fe},null,8,["is-open","type","title","confirm-text"])],64)}}});typeof ne=="function"&&ne(pe);const po=Ce(pe,[["__scopeId","data-v-d7b02b4a"]]);export{po as default};
