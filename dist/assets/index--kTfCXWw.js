import{d as k,r as n,o as N,a as r,j as i,b as e,e as c,g as _,t as o,F as E,f as S,n as A,B as C,s as d,v as p,y as b}from"./index-5jFCLG0b.js";import{P as g}from"./partner-portal.service-BUr-YCxR.js";import"./api-Cc7xRAfh.js";const I={class:"space-y-6"},M={class:"flex justify-between items-center"},T={class:"flex space-x-3"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},B={class:"bg-white p-6 rounded-xl shadow-sm border border-slate-200"},j={class:"text-3xl font-bold text-slate-900 mt-2"},U={class:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative"},z={key:0,class:"absolute inset-0 bg-white/50 backdrop-blur-[2px] flex items-center justify-center z-10"},D={class:"w-full text-left border-collapse"},F={class:"divide-y divide-slate-200"},L={key:0},P={class:"px-6 py-4"},q={class:"flex items-center space-x-3"},$={class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-bold text-xs uppercase"},H={class:"font-medium text-slate-900"},O={class:"px-6 py-4 text-slate-600"},W={class:"px-6 py-4"},G={class:"px-6 py-4 text-slate-600"},J={key:0,class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},K={class:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"},Q={class:"p-6 border-b border-slate-100 flex justify-between items-center"},R={class:"grid grid-cols-2 gap-4"},X={class:"space-y-1"},Y={class:"space-y-1"},Z={class:"space-y-1"},ee={class:"space-y-1"},te={class:"space-y-1"},se=k({__name:"index",setup(le){const u=n([]),m=n(!0),x=n(!1),h=n(!1),l=n({email:"",firstName:"",lastName:"",hrEmployeeId:"",orderThreshold:2e4}),f=async()=>{try{m.value=!0;const a=await g.getEmployees();u.value=a}catch(a){console.error("Failed to fetch employees",a)}finally{m.value=!1}},w=async()=>{try{await g.inviteEmployee(l.value),x.value=!1,await f(),l.value={email:"",firstName:"",lastName:"",hrEmployeeId:"",orderThreshold:2e4}}catch(a){console.error("Failed to invite employee",a)}};return N(f),(a,t)=>(i(),r("div",I,[e("div",M,[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-2xl font-bold text-slate-900"},"Employee Management"),e("p",{class:"text-slate-500"},"Manage your employees and their spending limits.")],-1)),e("div",T,[e("button",{onClick:t[0]||(t[0]=s=>h.value=!0),class:"px-4 py-2 text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors"}," Bulk Upload "),e("button",{onClick:t[1]||(t[1]=s=>x.value=!0),class:"px-4 py-2 text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors"}," Add Employee ")])]),e("div",V,[e("div",B,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-slate-500"},"Total Employees",-1)),e("p",j,o(u.value.length),1)]),t[10]||(t[10]=_('<div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200"><p class="text-sm font-medium text-slate-500">Pending Approvals</p><p class="text-3xl font-bold text-slate-900 mt-2">12</p></div><div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200"><p class="text-sm font-medium text-slate-500">This Month&#39;s Spending</p><p class="text-3xl font-bold text-primary-600 mt-2">₦450,000</p></div>',2))]),e("div",U,[m.value?(i(),r("div",z,[...t[11]||(t[11]=[e("svg",{class:"animate-spin h-8 w-8 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):c("",!0),e("table",D,[t[14]||(t[14]=e("thead",{class:"bg-slate-50 border-b border-slate-200"},[e("tr",null,[e("th",{class:"px-6 py-4 text-sm font-semibold text-slate-600"},"Employee"),e("th",{class:"px-6 py-4 text-sm font-semibold text-slate-600"},"Email"),e("th",{class:"px-6 py-4 text-sm font-semibold text-slate-600"},"Status"),e("th",{class:"px-6 py-4 text-sm font-semibold text-slate-600"},"Threshold"),e("th",{class:"px-6 py-4 text-sm font-semibold text-slate-600"},"Actions")])],-1)),e("tbody",F,[u.value.length===0&&!m.value?(i(),r("tr",L,[...t[12]||(t[12]=[e("td",{colspan:"5",class:"px-6 py-12 text-center text-slate-500"}," No employees found. Invite your first employee to get started. ",-1)])])):c("",!0),(i(!0),r(E,null,S(u.value,s=>{var y,v;return i(),r("tr",{key:s.email,class:"hover:bg-slate-50 transition-colors"},[e("td",P,[e("div",q,[e("div",$,o(s.firstName.charAt(0)),1),e("span",H,o(s.firstName)+" "+o(s.lastName),1)])]),e("td",O,o(s.email),1),e("td",W,[e("span",{class:A(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.isActive?"bg-emerald-100 text-emerald-800":"bg-slate-100 text-slate-800"])},o(s.isActive?"Active":"Inactive"),3)]),e("td",G,"₦"+o(((v=(y=s.hrSettings)==null?void 0:y.orderThreshold)==null?void 0:v.toLocaleString())||"Default"),1),t[13]||(t[13]=e("td",{class:"px-6 py-4"},[e("button",{class:"text-blue-600 hover:text-blue-800 font-medium"},"View Stats")],-1))])}),128))])])]),x.value?(i(),r("div",J,[e("div",K,[e("div",Q,[t[16]||(t[16]=e("h3",{class:"text-xl font-bold text-slate-900"},"Invite Employee",-1)),e("button",{onClick:t[2]||(t[2]=s=>x.value=!1),class:"text-slate-400 hover:text-slate-600"},[...t[15]||(t[15]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:C(w,["prevent"]),class:"p-6 space-y-4"},[e("div",R,[e("div",X,[t[17]||(t[17]=e("label",{class:"text-sm font-medium text-slate-700"},"First Name",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.firstName=s),type:"text",required:"",class:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 outline-none"},null,512),[[p,l.value.firstName]])]),e("div",Y,[t[18]||(t[18]=e("label",{class:"text-sm font-medium text-slate-700"},"Last Name",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.lastName=s),type:"text",required:"",class:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 outline-none"},null,512),[[p,l.value.lastName]])])]),e("div",Z,[t[19]||(t[19]=e("label",{class:"text-sm font-medium text-slate-700"},"Email Address",-1)),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.email=s),type:"email",required:"",class:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 outline-none"},null,512),[[p,l.value.email]])]),e("div",ee,[t[20]||(t[20]=e("label",{class:"text-sm font-medium text-slate-700"},"Staff ID (Optional)",-1)),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.hrEmployeeId=s),type:"text",class:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 outline-none"},null,512),[[p,l.value.hrEmployeeId]])]),e("div",te,[t[21]||(t[21]=e("label",{class:"text-sm font-medium text-slate-700"},"Weekly Threshold (₦)",-1)),d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.value.orderThreshold=s),type:"number",class:"w-full px-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 outline-none"},null,512),[[p,l.value.orderThreshold]])]),t[22]||(t[22]=e("div",{class:"pt-4"},[e("button",{type:"submit",class:"w-full py-3 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700 transition-all"}," Send Invitation ")],-1))],32)])])):c("",!0)]))}});typeof b=="function"&&b(se);export{se as default};
