import{d as g,r as v,m as f,f as h,c as n,a as e,e as x,p as u,g as _,F as b,l as w,j as k,o as r,t as o,n as N,h as V,i as S,k as C}from"./index-C4KQTk6n.js";import{a as A}from"./api-Csnh6SWI.js";const j={class:"px-4 sm:px-6 lg:px-8 py-8"},D={class:"mt-4 flex gap-4"},B={class:"mt-8 flex flex-col"},E={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},F={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},P={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},T={class:"min-w-full divide-y divide-gray-300"},z={class:"divide-y divide-gray-200 bg-white"},L={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6"},M={class:"font-medium text-gray-900"},R={class:"text-gray-500"},U={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 capitalize"},$={class:"whitespace-nowrap px-3 py-4 text-sm"},q={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},G={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},H={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},I={class:"sr-only"},Q=g({__name:"index",setup(J){const d=v([]),a=f({status:"",type:""}),i=async()=>{try{const l=await A.get("/admin/delivery-partners",{params:a});d.value=l.data.data.partners}catch(l){console.error("Failed to fetch partners",l)}};return h(()=>{i()}),(l,s)=>{const y=k("router-link");return r(),n("div",j,[s[6]||(s[6]=e("div",{class:"sm:flex sm:items-center"},[e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Delivery Partners"),e("p",{class:"mt-2 text-sm text-gray-700"},"A list of all delivery partners including their name, type, status, and earnings.")])],-1)),e("div",D,[x(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>a.status=t),onChange:i,class:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"},[...s[2]||(s[2]=[_('<option value="">All Status</option><option value="pending">Pending</option><option value="approved">Approved</option><option value="rejected">Rejected</option><option value="suspended">Suspended</option>',5)])],544),[[u,a.status]]),x(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.type=t),onChange:i,class:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"},[...s[3]||(s[3]=[e("option",{value:""},"All Types",-1),e("option",{value:"driver"},"Driver",-1),e("option",{value:"rider"},"Rider",-1),e("option",{value:"errander"},"Errander",-1)])],544),[[u,a.type]])]),e("div",B,[e("div",E,[e("div",F,[e("div",P,[e("table",T,[s[5]||(s[5]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},"Name"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Type"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Status"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Vehicle"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Earnings"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",z,[(r(!0),n(b,null,w(d.value,t=>{var p,c,m;return r(),n("tr",{key:t._id},[e("td",L,[e("div",M,o(t.user.firstName)+" "+o(t.user.lastName),1),e("div",R,o(t.user.email),1)]),e("td",U,o(t.type),1),e("td",$,[e("span",{class:N([t.status==="approved"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800","inline-flex rounded-full px-2 text-xs font-semibold leading-5"])},o(t.status),3)]),e("td",q,o((p=t.vehicle)==null?void 0:p.make)+" "+o((c=t.vehicle)==null?void 0:c.model)+" ("+o((m=t.vehicle)==null?void 0:m.plateNumber)+") ",1),e("td",G," â‚¦"+o(t.earnings.total.toLocaleString()),1),e("td",H,[V(y,{to:`/admin/delivery-partners/${t._id}`,class:"text-blue-600 hover:text-blue-900"},{default:S(()=>[s[4]||(s[4]=C("View",-1)),e("span",I,", "+o(t.user.firstName),1)]),_:2},1032,["to"])])])}),128))])])])])])])])}}});export{Q as default};
